import{r as $e,a as ot}from"./vendor-BRnhmgIC.js";(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))l(h);new MutationObserver(h=>{for(const g of h)if(g.type==="childList")for(const b of g.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&l(b)}).observe(document,{childList:!0,subtree:!0});function r(h){const g={};return h.integrity&&(g.integrity=h.integrity),h.referrerPolicy&&(g.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?g.credentials="include":h.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function l(h){if(h.ep)return;h.ep=!0;const g=r(h);fetch(h.href,g)}})();var de={exports:{}},V={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ke;function it(){if(ke)return V;ke=1;var i=$e(),m=Symbol.for("react.element"),r=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,h=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function b(f,p,v){var y,L={},U=null,Q=null;v!==void 0&&(U=""+v),p.key!==void 0&&(U=""+p.key),p.ref!==void 0&&(Q=p.ref);for(y in p)l.call(p,y)&&!g.hasOwnProperty(y)&&(L[y]=p[y]);if(f&&f.defaultProps)for(y in p=f.defaultProps,p)L[y]===void 0&&(L[y]=p[y]);return{$$typeof:m,type:f,key:U,ref:Q,props:L,_owner:h.current}}return V.Fragment=r,V.jsx=b,V.jsxs=b,V}var je;function lt(){return je||(je=1,de.exports=it()),de.exports}var e=lt(),o=$e(),Z={},Ne;function ct(){if(Ne)return Z;Ne=1;var i=ot();return Z.createRoot=i.createRoot,Z.hydrateRoot=i.hydrateRoot,Z}var dt=ct(),ut={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mt=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ht=(i,m)=>{const r=o.forwardRef(({color:l="currentColor",size:h=24,strokeWidth:g=2,absoluteStrokeWidth:b,children:f,...p},v)=>o.createElement("svg",{ref:v,...ut,width:h,height:h,stroke:l,strokeWidth:b?Number(g)*24/Number(h):g,className:`lucide lucide-${mt(i)}`,...p},[...m.map(([y,L])=>o.createElement(y,L)),...(Array.isArray(f)?f:[f])||[]]));return r.displayName=`${i}`,r};var j=ht;const Se=j("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),pt=j("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),gt=j("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ft=j("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Le=j("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),xt=j("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),wt=j("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),bt=j("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),Ce=j("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),Ee=j("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]),yt=j("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),vt=j("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Te=j("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),kt=j("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ae=j("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ee=j("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ie={"github.com":["github","open-source","code"],"stackoverflow.com":["stackoverflow","programming","help"],"medium.com":["article","blog","medium"],"dev.to":["article","blog","dev-community"],"youtube.com":["video","youtube"],"twitter.com":["twitter","social-media"],"linkedin.com":["linkedin","professional","business"],"reddit.com":["reddit","discussion","community"],"hackernews.com":["hackernews","tech-news"],"news.ycombinator.com":["hackernews","tech-news"],"techcrunch.com":["news","tech-news","startup"],"wired.com":["news","technology"],"arstechnica.com":["news","technology"],"theverge.com":["news","technology"],"smashingmagazine.com":["web-development","design","tutorial"],"css-tricks.com":["css","web-development","tutorial"],"codepen.io":["frontend","css","javascript","demo"],"dribbble.com":["design","inspiration","ui"],"behance.net":["design","portfolio","creative"],"figma.com":["design","tools","ui"],"notion.so":["productivity","tools","workspace"],"vercel.com":["deployment","frontend","tools"],"netlify.com":["deployment","frontend","tools"],"aws.amazon.com":["aws","cloud","infrastructure"],"cloud.google.com":["gcp","cloud","infrastructure"],"azure.microsoft.com":["azure","cloud","microsoft"],"docker.com":["docker","containers","devops"],"kubernetes.io":["kubernetes","containers","devops"],"npmjs.com":["npm","javascript","package"],"pypi.org":["python","package","pip"]},Pe={javascript:["javascript","web-development"],python:["python","programming"],react:["react","javascript","frontend"],vue:["vue","javascript","frontend"],angular:["angular","javascript","frontend"],node:["nodejs","javascript","backend"],typescript:["typescript","javascript"],css:["css","frontend","styling"],html:["html","frontend","web-development"],sql:["sql","database"],mongodb:["mongodb","database","nosql"],postgresql:["postgresql","database","sql"],mysql:["mysql","database","sql"],api:["api","backend","integration"],rest:["api","rest","backend"],graphql:["graphql","api","backend"],docker:["docker","containers","devops"],kubernetes:["kubernetes","devops","containers"],aws:["aws","cloud","infrastructure"],firebase:["firebase","backend","google"],redis:["redis","cache","database"],nginx:["nginx","web-server","devops"],apache:["apache","web-server"],tutorial:["tutorial","learning"],guide:["guide","tutorial"],documentation:["documentation","reference"],cheatsheet:["reference","cheatsheet"],"best practices":["best-practices","guide"],performance:["performance","optimization"],security:["security","important"],testing:["testing","quality"],deployment:["deployment","devops"],monitoring:["monitoring","devops"],analytics:["analytics","data"],"machine learning":["machine-learning","ai","data-science"],"artificial intelligence":["ai","machine-learning"],"data science":["data-science","analytics","python"],blockchain:["blockchain","crypto"],cryptocurrency:["crypto","blockchain"],blog:["blog","article"],article:["article","blog"],video:["video"],course:["course","learning"],book:["book","resource"],podcast:["podcast","audio"],newsletter:["newsletter"],tool:["tools","useful"],library:["library","code"],framework:["framework","code"],plugin:["plugin","extension"],theme:["theme","design"],template:["template","design"]};function De(i,m="",r=""){const l=new Set;try{const g=new URL(i),b=g.hostname.toLowerCase().replace(/^www\./,""),f=g.pathname.toLowerCase();Ie[b]&&Ie[b].forEach(v=>l.add(v)),f.includes("/blog")&&l.add("blog"),f.includes("/tutorial")&&l.add("tutorial"),f.includes("/guide")&&l.add("guide"),(f.includes("/docs")||f.includes("/documentation"))&&l.add("documentation"),f.includes("/api")&&l.add("api"),f.includes("/reference")&&l.add("reference"),f.includes("/example")&&l.add("example"),f.includes("/demo")&&l.add("demo"),f.includes("/video")&&l.add("video"),f.includes("/course")&&l.add("course"),f.includes("/tool")&&l.add("tools");const p=`${m} ${r}`.toLowerCase();Object.keys(Pe).forEach(v=>{p.includes(v)&&Pe[v].forEach(y=>l.add(y))}),i.match(/\.(pdf)$/i)&&l.add("pdf"),i.match(/\.(mp4|mov|avi|mkv)$/i)&&l.add("video"),i.match(/\.(mp3|wav|flac)$/i)&&l.add("audio"),i.match(/\.(zip|tar|gz|rar)$/i)&&l.add("download"),p.match(/\b(how to|tutorial|guide|walkthrough)\b/)&&l.add("tutorial"),p.match(/\b(tips|tricks|best practices)\b/)&&l.add("tips"),p.match(/\b(breaking|news|announcement)\b/)&&l.add("news"),p.match(/\b(free|open source|libre)\b/)&&l.add("free"),p.match(/\b(awesome|amazing|incredible|must)\b/)&&l.add("interesting")}catch(g){console.warn("Error parsing URL for tag suggestions:",g)}return Array.from(l).sort((g,b)=>g.length!==b.length?g.length-b.length:g.localeCompare(b)).slice(0,8)}const Re="",jt=async()=>{try{const i=await fetch(`${Re}/api/archives`);if(!i.ok)throw new Error("Failed to load archive metadata");return await i.json()}catch(i){return console.error("Error loading archive metadata:",i),[]}},Nt=async i=>{try{const m=await fetch(`${Re}/api/archive/${i}`);if(!m.ok)throw new Error(`Failed to load archive for ${i}`);return(await m.json()).links||[]}catch(m){return console.error(`Error loading archive for ${i}:`,m),[]}};function St({links:i=[],forceShow:m=!1,onClose:r}){const[l,h]=o.useState(!1),[g,b]=o.useState(!1),[f,p]=o.useState(!1),v=m||g;o.useEffect(()=>{const u=()=>{const P=window.matchMedia("(orientation: landscape)").matches,_=window.matchMedia("(max-width: 768px)").matches;b(P&&_)};u();const k=window.matchMedia("(orientation: landscape)"),S=window.matchMedia("(max-width: 768px)");return k.addEventListener("change",u),S.addEventListener("change",u),()=>{k.removeEventListener("change",u),S.removeEventListener("change",u)}},[]),o.useEffect(()=>{const u=window.matchMedia("(prefers-reduced-motion: reduce)");p(u.matches);const k=S=>p(S.matches);return u.addEventListener("change",k),()=>u.removeEventListener("change",k)},[]),o.useEffect(()=>{f&&h(!0)},[f]),o.useEffect(()=>{const u=k=>{k.key===" "&&v&&k.target.tagName!=="INPUT"&&(k.preventDefault(),h(S=>!S))};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[v]);const y=o.useMemo(()=>i.length===0?[]:[...i,...i,...i],[i]),L=o.useMemo(()=>{const u=i.length*1.5;return Math.max(30,u)},[i.length]),U=()=>{h(u=>!u)},Q=u=>{window.open(u,"_blank","noopener,noreferrer")};return!v||i.length===0?null:e.jsxs("div",{className:"ticker-container",role:"marquee","aria-live":"off","aria-label":"News ticker",children:[e.jsx("div",{className:"ticker-track",children:e.jsx("div",{className:`ticker-content ${l?"paused":""}`,style:{animationDuration:`${L}s`},children:y.map((u,k)=>e.jsx("div",{className:"ticker-item-wrapper",children:e.jsxs("button",{className:"ticker-item",onClick:()=>Q(u.url),"aria-label":`Open: ${u.source}`,children:[e.jsx("span",{className:"ticker-bullet",children:"+++"}),e.jsx("span",{className:"ticker-title",children:u.source}),u.pullQuote&&e.jsxs("span",{className:"ticker-quote",children:["â€” ",u.pullQuote]}),e.jsx("span",{className:"ticker-bullet",children:"+++"})]})},`${u.id}-${k}`))})}),e.jsxs("div",{className:"ticker-controls",children:[e.jsx("button",{className:"ticker-control",onClick:U,"aria-label":l?"Resume ticker":"Pause ticker","aria-pressed":l,children:l?e.jsx(yt,{className:"w-6 h-6"}):e.jsx(bt,{className:"w-6 h-6"})}),r&&e.jsx("button",{className:"ticker-control",onClick:r,"aria-label":"Close ticker",children:e.jsx(ee,{className:"w-6 h-6"})})]}),f&&e.jsx("div",{className:"ticker-notice",children:"Motion paused"})]})}const Lt="YourNewPassword",I="linkBlogData",q=120,X={DATE_DESC:"date-desc",DATE_ASC:"date-asc",TITLE:"title"};function Ct(){var ve;const[i,m]=o.useState([]),[r,l]=o.useState({url:"",source:"",pullQuote:"",tags:[],tagInput:""}),[h,g]=o.useState(!1),[b,f]=o.useState(""),[p,v]=o.useState([]),[y,L]=o.useState(X.DATE_DESC),[U,Q]=o.useState(new Set),[u,k]=o.useState(null),[S,P]=o.useState(!1),[_,te]=o.useState(""),[ue,me]=o.useState(!1),[Oe,he]=o.useState(null),[Me,At]=o.useState(-1),[F,T]=o.useState(!1),[N,C]=o.useState(""),[se,D]=o.useState(0),[pe,Ue]=o.useState(!1),[$,_e]=o.useState(!1),[R,qe]=o.useState([]),[O,Qe]=o.useState(new Set),[ae,Fe]=o.useState(!1),[Je,ge]=o.useState(!1),[H,re]=o.useState(null),[fe,W]=o.useState(null),[ne,xe]=o.useState(!1),Be=o.useRef(null),oe=o.useRef(null),ze=o.useRef(null),Ve=o.useRef({}),we=o.useRef(null),K=o.useDeferredValue(b),ie=o.useDeferredValue(p),He=b!==K,be=o.useCallback(async()=>{var a,s;try{console.log("Loading links from storage...");const n=await fetch("/data/links.json?t="+Date.now());if(n.ok){const c=await n.json();console.log("Loaded JSON data:",c);const w=localStorage.getItem(I);let d=null;if(w&&(d=JSON.parse(w)),d&&d.lastUpdated&&c.lastUpdated){const J=new Date(c.lastUpdated).getTime(),B=new Date(d.lastUpdated).getTime(),E=((a=d.links)==null?void 0:a.length)||0,x=((s=c.links)==null?void 0:s.length)||0;B>J?(m(d.links||[]),E>x&&W({message:`Browser has ${E-x} more links than server. Save to sync.`,localCount:E,jsonCount:x,localTime:new Date(d.lastUpdated).toLocaleString(),jsonTime:new Date(c.lastUpdated).toLocaleString()})):E>x?window.confirm(`âš ï¸ Data Conflict Detected!

Browser: ${E} links (${new Date(d.lastUpdated).toLocaleString()})
Server: ${x} links (${new Date(c.lastUpdated).toLocaleString()})

Your browser has ${E-x} more links.

Click OK to keep browser data (recommended)
Click Cancel to use server data (will lose browser-only links)`)?(m(d.links||[]),W({message:`Using browser data. Save to sync ${E-x} links to server.`,localCount:E,jsonCount:x})):(m(c.links||[]),localStorage.setItem(I,JSON.stringify(c))):(m(c.links||[]),localStorage.setItem(I,JSON.stringify(c)))}else m(c.links||[]),localStorage.setItem(I,JSON.stringify(c));return}}catch(n){console.warn("Could not load from JSON, falling back to localStorage:",n)}const t=localStorage.getItem(I);if(t){const n=JSON.parse(t);m(n.links||[])}},[]),A=o.useCallback(async t=>{const a={links:t,lastUpdated:new Date().toISOString()};localStorage.setItem(I,JSON.stringify(a));const s=!window.location.hostname.includes("localhost");try{if(!(await fetch("http://localhost:3001/api/save-links",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok)throw new Error("Failed to save to server");re(null),W(null),console.log(`âœ… Saved ${t.length} links to server`)}catch(n){console.error("Could not save to server:",n),s?console.log("âœ“ Changes saved to browser localStorage (server sync not available on static hosting)"):re({message:`Save failed! ${t.length} links saved to browser only.`,details:"API server not responding. Start it with: npm run dev:save",timestamp:new Date().toLocaleTimeString()})}},[]),We=o.useCallback(async()=>{try{const t=await jt();qe(t)}catch(t){console.error("Error loading archive metadata:",t)}},[]),le=o.useCallback(async t=>{if(!O.has(t))try{const a=await Nt(t);m(s=>[...s,...a]),Qe(s=>new Set([...s,t])),console.log(`Loaded ${a.length} links from ${t} archive`)}catch(a){console.error(`Error loading archive ${t}:`,a)}},[O]),Ke=o.useCallback(async()=>{for(const t of R)await le(t.year)},[R,le]),ce=o.useCallback(()=>{var a;const t=localStorage.getItem(I);if(t){const s={...JSON.parse(t),backupTimestamp:new Date().toISOString()};localStorage.setItem(`${I}_backup`,JSON.stringify(s)),console.log(`ðŸ”„ Auto-backup: ${((a=s.links)==null?void 0:a.length)||0} links backed up at ${new Date().toLocaleTimeString()}`)}},[]);o.useEffect(()=>{if(!window.location.hostname.includes("localhost"))return;const a=setTimeout(()=>{ce()},3e4);return oe.current=setInterval(()=>{ce()},300*1e3),()=>{clearTimeout(a),oe.current&&clearInterval(oe.current)}},[ce]),o.useEffect(()=>{be(),We();const t=new URLSearchParams(window.location.search),a=t.get("admin"),s=a?a.replace(/[?&#\s]+$/,""):"";g(s===Lt);const n=t.get("tag");n&&v([n])},[be]),o.useEffect(()=>{const a=new URLSearchParams(window.location.search).get("admin"),s=new URLSearchParams;a&&s.set("admin",a),p.length===1&&s.set("tag",p[0]);const n=s.toString()?`?${s.toString()}`:window.location.pathname;window.history.replaceState({},"",n)},[p]);const ye=async t=>{var a,s;try{const n=await fetch(`https://api.microlink.io/?url=${encodeURIComponent(t)}`);if(!n.ok)throw new Error("Failed to fetch metadata");const c=await n.json();if(c.status==="success"&&c.data)return{title:c.data.title||"",description:c.data.description||"",image:((a=c.data.image)==null?void 0:a.url)||"",favicon:((s=c.data.logo)==null?void 0:s.url)||""}}catch(n){console.error("Error fetching metadata:",n)}try{return{title:new URL(t).hostname.replace("www.",""),description:"",image:"",favicon:""}}catch(n){return console.error("Invalid URL:",t,n),{title:t,description:"",image:"",favicon:""}}},Ye=async()=>{var c;if(!r.url||!r.source)return;if(r.source.length>q){alert(`Title must be less than ${q} characters`);return}const t=N.trim().toLowerCase(),a=t&&!((c=r.tags)!=null&&c.includes(t))?[...r.tags||[],t]:r.tags||[],s={id:Date.now(),url:r.url,source:r.source,pullQuote:r.pullQuote||"",tags:a,isPinned:r.isPinned||!1,timestamp:new Date().toISOString(),visits:0},n=[...i,s];try{await A(n),l({url:"",source:"",pullQuote:"",tags:[],tagInput:"",isPinned:!1}),C(""),u&&k(null)}catch(w){console.error("Failed to add link:",w)}},Ge=async()=>{var c;if(!u||!h)return;const t=N.trim().toLowerCase(),a=t&&!((c=r.tags)!=null&&c.includes(t))?[...r.tags||[],t]:r.tags||[],s={id:u.id,url:r.url,source:r.source,pullQuote:r.pullQuote||"",tags:a,isPinned:r.isPinned||!1,timestamp:u.timestamp,visits:u.visits||0},n=i.map(w=>w.id===u.id?s:w);try{await A(n),k(null),l({url:"",source:"",pullQuote:"",tags:[],tagInput:"",isPinned:!1}),C("")}catch(w){console.error("Failed to update link:",w)}},Ze=o.useCallback(t=>{h&&(k(t),l({...t,pullQuote:t.pullQuote||"",tags:t.tags||[],tagInput:""}),C(""),P(!1),window.scrollTo({top:0,behavior:"smooth"}))},[h]),Xe=async t=>{if(!confirm("Delete this link?"))return;const a=i.filter(s=>s.id!==t);m(a),await A(a)},et=async t=>{const a=i.map(s=>s.id===t?{...s,isPinned:!s.isPinned}:s);m(a),await A(a)},tt=()=>{try{const t=new Date().toISOString().replace(/[:.]/g,"-").split("T"),a=t[0],s=t[1].split("-").slice(0,2).join("-"),n=JSON.stringify({links:i,lastUpdated:new Date().toISOString(),exportedAt:new Date().toISOString(),totalLinks:i.length},null,2),c=new Blob([n],{type:"application/json"}),w=URL.createObjectURL(c),d=document.createElement("a");d.href=w,d.download=`link-blog-export-${a}-${s}.json`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(w),console.log(`âœ… Exported ${i.length} links`)}catch(t){console.error("âŒ Export failed:",t),alert("Export failed. Please try again or check the console for details.")}},st=t=>{const a=t.target.files[0];if(!a)return;console.log("ðŸ“¥ Starting import of",a.name);const s=new FileReader;s.onload=async n=>{try{const c=JSON.parse(n.target.result);if(!c.links||!Array.isArray(c.links))throw new Error('Invalid file format. Expected JSON with "links" array.');console.log(`ðŸ“Š File contains ${c.links.length} links`);const w=new Set(i.map(x=>x.url)),d=c.links.filter(x=>!x.url||!x.source?!1:!w.has(x.url)).map(x=>({...x,id:x.id||Date.now()+Math.random(),timestamp:x.timestamp||new Date().toISOString(),visits:x.visits||0,tags:Array.isArray(x.tags)?x.tags:[],isPinned:!!x.isPinned})),J=c.links.length-d.length,B=d.length>0?`Import ${d.length} new links?${J>0?` (${J} duplicates will be skipped)`:""}`:`No new links to import (${J} duplicates found)`;if(d.length===0){alert(B),console.log("â„¹ï¸",B);return}if(window.confirm(B)){const x=[...i,...d];try{m(x),await A(x);const z=`âœ… Successfully imported ${d.length} links!`;console.log(z),alert(z)}catch(z){console.error("âŒ Failed to save imported links:",z),m(x),alert(`âš ï¸ Imported ${d.length} links to UI, but save failed. Check if API server is running.`)}}}catch(c){console.error("âŒ Import failed:",c),alert(`Import failed: ${c.message}`)}},s.onerror=()=>{console.error("âŒ File reading failed"),alert("Failed to read the file. Please try again.")},s.readAsText(a),t.target.value=""},at=o.useCallback(async t=>{const a=t.split(`
`).map(n=>n.trim()).filter(n=>n),s=[];for(const n of a){const c=await ye(n),w=De(n,c.title,c.description);s.push({url:n,source:(c.title||n).slice(0,q),pullQuote:"",tags:w.slice(0,5),metadata:c})}return s},[]),rt=async()=>{if(_.trim()){me(!0);try{const s=[...(await at(_)).map(n=>({id:Date.now()+Math.random(),url:n.url,source:n.source,pullQuote:n.pullQuote||"",tags:n.tags,timestamp:new Date().toISOString(),visits:0})),...i];m(s),await A(s),te(""),P(!1)}catch(t){console.error("Failed to add links:",t),alert("Failed to add some links")}finally{me(!1)}}},nt=async t=>{try{await navigator.clipboard.writeText(t.url),he(t.id),setTimeout(()=>he(null),2e3)}catch(a){console.error("Failed to copy:",a)}},Y=o.useMemo(()=>{const t={};return i.forEach(a=>{(a.tags||[]).forEach(s=>{t[s]=(t[s]||0)+1})}),Object.entries(t).sort((a,s)=>s[1]-a[1]).map(([a,s])=>({tag:a,count:s}))},[i]),M=o.useMemo(()=>{if(!N.trim())return[];const t=N.trim().toLowerCase(),a=(r.tags||[]).map(s=>s.toLowerCase());return Y.filter(({tag:s})=>s.toLowerCase().startsWith(t)&&!a.includes(s.toLowerCase())).slice(0,8)},[N,Y,r.tags]),G=o.useMemo(()=>{let t=i;if(K){const a=K.toLowerCase();t=t.filter(s=>s.source.toLowerCase().includes(a)||s.url.toLowerCase().includes(a)||s.pullQuote&&s.pullQuote.toLowerCase().includes(a)||s.tags&&s.tags.some(n=>n.toLowerCase().includes(a)))}return ie.length>0&&(t=t.filter(a=>a.tags&&ie.every(s=>a.tags.includes(s)))),[...t].sort((a,s)=>{if(a.isPinned!==s.isPinned)return s.isPinned?1:-1;switch(y){case X.DATE_ASC:return new Date(a.timestamp||0)-new Date(s.timestamp||0);case X.TITLE:return a.source.localeCompare(s.source);case X.DATE_DESC:default:return new Date(s.timestamp||0)-new Date(a.timestamp||0)}})},[i,K,ie,y]);return e.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[H&&e.jsx("div",{className:"sticky top-0 z-50 bg-red-600 text-white px-4 py-3 shadow-lg",children:e.jsxs("div",{className:"container-width flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Se,{className:"w-5 h-5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:H.message}),e.jsx("p",{className:"text-sm text-red-100",children:H.details})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs text-red-200",children:H.timestamp}),e.jsx("button",{onClick:()=>re(null),className:"p-1 hover:bg-red-700 rounded",title:"Dismiss",children:e.jsx(ee,{className:"w-4 h-4"})})]})]})}),fe&&e.jsx("div",{className:"sticky top-0 z-50 bg-amber-500 text-amber-950 px-4 py-3 shadow-lg",children:e.jsxs("div",{className:"container-width flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Se,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("p",{className:"font-medium",children:fe.message})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{A(i)},className:"px-3 py-1 bg-amber-700 text-white rounded text-sm font-medium hover:bg-amber-800",children:"Sync Now"}),e.jsx("button",{onClick:()=>W(null),className:"p-1 hover:bg-amber-600 rounded",title:"Dismiss",children:e.jsx(ee,{className:"w-4 h-4"})})]})]})}),(!$||h)&&e.jsx("header",{className:"sticky top-0 z-20 bg-white border-b-2 border-neutral-900",children:e.jsx("div",{className:"container-width",children:e.jsxs("div",{className:"py-3 md:py-4",children:[e.jsx("div",{className:"border-t border-neutral-300 mb-3"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"hidden sm:block text-xs tracking-wide text-neutral-500 uppercase",children:"Est. 1994"}),e.jsxs("div",{className:"flex-1 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("a",{href:"https://mediaeater.com",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition-opacity",title:"mediaeater.com",children:e.jsx("img",{src:"https://mediaeater.com/Images/mediaeater.png",alt:"mediaeater",className:"w-8 h-8 md:w-10 md:h-10 object-contain"})}),e.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-serif font-bold tracking-tight text-neutral-900",children:e.jsx("a",{href:"/",className:"hover:text-blue-800 transition-colors",children:"newsfeeds.net"})})]}),e.jsx("div",{className:"text-xs md:text-sm tracking-widest uppercase text-amber-700 mt-1",children:"Human Edited & Curated"})]}),e.jsx("div",{className:"hidden sm:block",children:Je?e.jsx("div",{className:"relative w-40",children:e.jsx("input",{ref:Be,type:"text",value:b,onChange:t=>f(t.target.value),onBlur:()=>{b||setTimeout(()=>ge(!1),150)},placeholder:"Search...",className:`w-full px-3 py-1.5 text-sm border border-neutral-300 rounded focus:outline-none focus:border-neutral-500 ${He?"opacity-70":""}`,"aria-label":"Search links",autoFocus:!0})}):e.jsx("button",{onClick:()=>ge(!0),className:"p-2 text-neutral-500 hover:text-neutral-700 transition-colors","aria-label":"Open search",children:e.jsx(Te,{className:"w-5 h-5"})})})]}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mt-3 pt-3 border-t border-neutral-300 text-xs text-neutral-600",children:[e.jsx("a",{href:"/feed.xml",target:"_blank",rel:"noopener noreferrer",className:"hover:text-neutral-900 transition-colors",children:"RSS"}),e.jsx("span",{className:"text-neutral-300",children:"|"}),e.jsx("a",{href:"/data/feed.json",target:"_blank",rel:"noopener noreferrer",className:"hover:text-neutral-900 transition-colors",children:"JSON"}),e.jsx("span",{className:"text-neutral-300",children:"|"}),e.jsx("a",{href:"/data/blogroll.opml",target:"_blank",rel:"noopener noreferrer",className:"hover:text-neutral-900 transition-colors",children:"OPML"}),e.jsx("span",{className:"text-neutral-300",children:"|"}),e.jsx("button",{onClick:()=>xe(t=>!t),className:`hover:text-neutral-900 transition-colors ${ne?"text-neutral-900 font-medium":""}`,children:ne?"Ticker â—":"Ticker"}),e.jsx("span",{className:"text-neutral-300",children:"|"}),e.jsx("a",{href:"https://ghuneim.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-neutral-900 transition-colors",children:"mediaeater.inc"})]}),e.jsx("div",{className:"sm:hidden mt-3",children:e.jsxs("div",{className:"relative",children:[e.jsx(Te,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-400"}),e.jsx("input",{type:"text",value:b,onChange:t=>f(t.target.value),placeholder:"Search links...",className:"w-full pl-10 pr-4 py-2 text-sm border border-neutral-300 rounded focus:outline-none focus:border-neutral-500","aria-label":"Search links"})]})})]})})}),h&&e.jsx("div",{className:"bg-white border-b border-neutral-200",children:e.jsxs("div",{className:"container-width py-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsxs("button",{onClick:()=>P(!1),className:`btn btn-sm ${S?"btn-ghost":"btn-primary"}`,children:[u?e.jsx(Ce,{className:"w-4 h-4 mr-2"}):e.jsx(vt,{className:"w-4 h-4 mr-2"}),u?"Edit Link":"Add Single Link"]}),e.jsxs("button",{onClick:()=>{P(!0),k(null)},className:`btn btn-sm ${S?"btn-primary":"btn-ghost"}`,children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),"Bulk Add URLs"]}),e.jsxs("button",{onClick:tt,className:"btn btn-sm btn-outline",title:`Export all ${i.length} links to JSON file`,children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"Export (",i.length,")"]}),e.jsxs("label",{className:"btn btn-sm btn-outline cursor-pointer",children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),"Import",e.jsx("input",{type:"file",accept:".json",onChange:st,className:"hidden",title:"Import links from JSON file"})]})]}),!S&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"URL"}),e.jsx("input",{type:"url",placeholder:"https://example.com",value:r.url,onChange:t=>l({...r,url:t.target.value}),className:"input w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Title (",r.source.length,"/",q,")"]}),e.jsx("input",{type:"text",placeholder:"Link title or description",value:r.source,onChange:t=>l({...r,source:t.target.value}),maxLength:q,className:"input w-full"})]})]}),r.url&&(!r.source||r.tags.length===0)&&e.jsxs("button",{onClick:async()=>{const t=await ye(r.url),a=De(r.url,t.title,t.description);l(s=>{const n=s.tags.length===0?a.slice(0,5):s.tags;return{...s,source:s.source||(t.title||r.url).slice(0,q),tags:n,tagInput:n.join(", ")}})},className:"btn btn-sm btn-secondary",children:[e.jsx(xt,{className:"w-3 h-3 mr-1"}),"Auto-fetch title & tags"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Pull Quote (optional)"}),e.jsx("textarea",{placeholder:"Interesting quote or note about this link...",value:r.pullQuote||"",onChange:t=>l({...r,pullQuote:t.target.value}),className:"input w-full h-20"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Tags ",e.jsx("span",{className:"text-neutral-400 font-normal",children:"(Tab to add suggestion)"})]}),e.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2",children:(r.tags||[]).map((t,a)=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded-md",children:[t,e.jsx("button",{type:"button",onClick:()=>{const s=r.tags.filter((n,c)=>c!==a);l({...r,tags:s,tagInput:""})},className:"text-blue-600 hover:text-blue-900 ml-0.5","aria-label":`Remove ${t}`,children:e.jsx(ee,{className:"w-3 h-3"})})]},`${t}-${a}`))}),e.jsx("input",{ref:we,type:"text",placeholder:(ve=r.tags)!=null&&ve.length?"Add another tag...":"Type to add tags...",value:N,onChange:t=>{var s;const a=t.target.value;if(a.endsWith(",")){const n=a.slice(0,-1).trim().toLowerCase();n&&!((s=r.tags)!=null&&s.includes(n))&&l({...r,tags:[...r.tags||[],n],tagInput:""}),C(""),T(!1),D(0);return}C(a),T(a.trim().length>0),D(0)},onFocus:()=>{N.trim().length>0&&T(!0)},onBlur:()=>{setTimeout(()=>{var a;const t=N.trim().toLowerCase();t&&!((a=r.tags)!=null&&a.includes(t))&&l({...r,tags:[...r.tags||[],t],tagInput:""}),C(""),T(!1)},200)},onKeyDown:t=>{var a,s,n,c,w;if(t.key==="Escape"){T(!1);return}if(t.key==="Tab"&&N.trim()){t.preventDefault();let d;F&&M.length>0?d=(a=M[se])==null?void 0:a.tag:d=N.trim().toLowerCase(),d&&!((s=r.tags)!=null&&s.includes(d))&&l({...r,tags:[...r.tags||[],d],tagInput:""}),C(""),T(!1),D(0);return}if(t.key==="Enter"){t.preventDefault();let d;F&&M.length>0?d=(n=M[se])==null?void 0:n.tag:d=N.trim().toLowerCase(),d&&!((c=r.tags)!=null&&c.includes(d))&&l({...r,tags:[...r.tags||[],d],tagInput:""}),C(""),T(!1),D(0);return}if(t.key==="ArrowDown"&&F){t.preventDefault(),D(d=>Math.min(d+1,M.length-1));return}if(t.key==="ArrowUp"&&F){t.preventDefault(),D(d=>Math.max(d-1,0));return}if(t.key==="Backspace"&&!N&&((w=r.tags)==null?void 0:w.length)>0){const d=r.tags.slice(0,-1);l({...r,tags:d,tagInput:""})}},className:"input w-full"}),F&&M.length>0&&e.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border-2 border-blue-500 rounded-md shadow-lg max-h-48 overflow-y-auto",children:M.map(({tag:t,count:a},s)=>e.jsxs("button",{type:"button",onMouseDown:n=>{var c,w;n.preventDefault(),(c=r.tags)!=null&&c.includes(t)||l({...r,tags:[...r.tags||[],t],tagInput:""}),C(""),T(!1),D(0),(w=we.current)==null||w.focus()},className:`w-full text-left px-3 py-2 text-sm transition-colors flex items-center justify-between border-b border-gray-100 last:border-b-0 ${s===se?"bg-blue-100 text-blue-900":"hover:bg-blue-50"}`,children:[e.jsx("span",{className:"font-medium",children:t}),e.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:a})]},t))}),Y.length>0&&e.jsxs("div",{className:"mt-2 flex flex-wrap gap-1 items-center",children:[e.jsx("span",{className:"text-xs text-neutral-500",children:"Popular:"}),Y.slice(0,10).map(({tag:t})=>{var a,s;return e.jsx("button",{type:"button",onClick:()=>{var n;(n=r.tags)!=null&&n.includes(t)||l({...r,tags:[...r.tags||[],t],tagInput:""})},disabled:(a=r.tags)==null?void 0:a.includes(t),className:`tag text-xs ${(s=r.tags)!=null&&s.includes(t)?"opacity-40 cursor-not-allowed":""}`,children:t},t)})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.isPinned||!1,onChange:t=>l({...r,isPinned:t.target.checked}),className:"rounded border-neutral-300"}),e.jsx("span",{className:"text-sm",children:"Pin to top"})]}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[u&&e.jsx("button",{onClick:()=>{k(null),l({url:"",source:"",pullQuote:"",tags:[],tagInput:"",isPinned:!1})},className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{onClick:u?Ge:Ye,disabled:!r.url||!r.source,className:"btn btn-primary",children:u?"Update Link":"Add Link"})]})]})]}),S&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Add Multiple URLs (one per line)"}),e.jsx("textarea",{ref:ze,value:_,onChange:t=>te(t.target.value),placeholder:"Paste URLs here...",className:"input w-full h-32 font-mono text-sm"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:rt,disabled:!_.trim()||ue,className:"btn btn-primary",children:ue?"Processing...":"Add All Links"}),e.jsx("button",{onClick:()=>{P(!1),te("")},className:"btn btn-secondary",children:"Cancel"})]})]})]})}),e.jsx("main",{className:"container-width section-y",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-6 pb-4 border-b border-neutral-200",children:[e.jsxs("button",{onClick:()=>_e(!$),className:"flex items-center gap-1.5 text-neutral-600 hover:text-neutral-900 transition-colors font-medium",title:$?"Show full view":"Show minimal view",children:[e.jsxs("span",{children:[G.length,":",i.length]}),e.jsx(gt,{className:`w-3.5 h-3.5 transition-transform duration-200 ${$?"rotate-90":""}`})]}),!$&&e.jsxs("button",{onClick:()=>Ue(!pe),className:"flex items-center gap-1.5 text-neutral-600 hover:text-neutral-900 transition-colors",title:"Toggle legend",children:[e.jsx(wt,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"font-medium",children:"Legend"})]}),!$&&e.jsx("time",{className:"text-neutral-500 font-normal",dateTime:new Date().toISOString(),children:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),!$&&pe&&e.jsx("div",{className:"legend-box mb-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:[e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"font-medium text-neutral-700",children:"Title:"})," Source/article name"]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"font-medium text-neutral-700",children:"URL:"})," Domain shown below title"]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"font-medium text-neutral-700",children:"Quote:"})," Pull quote or excerpt"]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"font-medium text-neutral-700",children:"Tags:"})," Click to filter or bookmark a topic"]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"font-medium text-neutral-700",children:"Date:"})," When link was added"]})]})}),R.length>0&&e.jsxs("div",{className:"mb-6 p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"w-4 h-4 text-neutral-600"}),e.jsx("span",{className:"font-medium text-neutral-900",children:"Archives"}),e.jsxs("span",{className:"text-sm text-neutral-500",children:["(",R.reduce((t,a)=>t+a.count,0)," archived links)"]})]}),e.jsx("button",{onClick:()=>Fe(!ae),className:"text-sm text-neutral-600 hover:text-neutral-900 transition-colors",children:ae?"Hide":"Show"})]}),ae&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:R.map(t=>e.jsxs("button",{onClick:()=>le(t.year),disabled:O.has(t.year),className:`px-3 py-1.5 rounded text-sm transition-all ${O.has(t.year)?"bg-green-100 text-green-800 cursor-default":"bg-white border border-neutral-300 hover:border-primary-500 hover:bg-primary-50"}`,children:[t.year," (",t.count,")",O.has(t.year)&&" âœ“"]},t.year))}),e.jsx("button",{onClick:Ke,disabled:O.size===R.length,className:"w-full px-4 py-2 bg-primary-500 text-white rounded hover:bg-primary-600 disabled:bg-neutral-300 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:O.size===R.length?"All Archives Loaded":"Load All Archives"})]})]}),G.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-neutral-500",children:"No links found"})}):G.map((t,a)=>e.jsx("article",{ref:s=>Ve.current[a]=s,className:`link-card group ${Me===a?"ring-2 ring-primary-500 ring-offset-2":""}`,children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[t.isPinned&&e.jsx(Ee,{className:"w-4 h-4 text-neutral-400 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-neutral-900 truncate",children:e.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary-600 transition-colors",onClick:()=>{if(h){const s=i.map(n=>n.id===t.id?{...n,visits:(n.visits||0)+1}:n);m(s),A(s)}},children:t.source})}),e.jsx("p",{className:"text-sm text-neutral-500 truncate",children:(()=>{try{return new URL(t.url).hostname.replace("www.","")}catch{return t.url}})()})]})]}),t.pullQuote&&e.jsx("div",{className:"mt-2 text-sm text-neutral-600 italic space-y-2",children:t.pullQuote.split(`

`).map((s,n)=>e.jsx("p",{children:s.split(`
`).map((c,w,d)=>e.jsxs("span",{children:[c,w<d.length-1&&e.jsx("br",{})]},w))},n))}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"mt-3 flex flex-wrap gap-1",children:t.tags.map(s=>e.jsx("button",{onClick:()=>{p.includes(s)?v(p.filter(n=>n!==s)):v([...p,s])},className:"tag",children:s},s))}),e.jsx("div",{className:"mt-3 flex items-center gap-4 text-xs text-neutral-400",children:e.jsxs("span",{children:[new Date(t.timestamp).toLocaleDateString(),t.visits>0&&` [${t.visits}]`]})})]}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>nt(t),className:"btn-ghost p-2",title:"Copy link",children:Oe===t.id?e.jsx(pt,{className:"w-4 h-4 text-success"}):e.jsx(ft,{className:"w-4 h-4"})}),h&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>Ze(t),className:"btn-ghost p-2",title:"Edit link",children:e.jsx(Ce,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>et(t.id),className:"btn-ghost p-2",title:"Pin link",children:e.jsx(Ee,{className:`w-4 h-4 ${t.isPinned?"fill-current":""}`})}),e.jsx("button",{onClick:()=>Xe(t.id),className:"btn-ghost p-2 text-error",title:"Delete link",children:e.jsx(kt,{className:"w-4 h-4"})})]})]})]})},t.id))]})}),e.jsx(St,{links:G,forceShow:ne,onClose:()=>xe(!1)})]})}class Et extends o.Component{constructor(m){super(m),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(m){return{hasError:!0}}componentDidCatch(m,r){console.error("Error caught by boundary:",m),console.error("Error info:",r),this.setState({error:m,errorInfo:r})}render(){return this.state.hasError?e.jsxs("div",{style:{padding:"20px",fontFamily:"monospace"},children:[e.jsx("h2",{style:{color:"red"},children:"Something went wrong!"}),e.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[e.jsx("summary",{children:"Click to see error details"}),e.jsx("p",{style:{color:"red"},children:this.state.error&&this.state.error.toString()}),e.jsx("pre",{children:this.state.errorInfo&&this.state.errorInfo.componentStack})]})]}):this.props.children}}function Tt(){return e.jsx(Et,{children:e.jsx(Ct,{})})}dt.createRoot(document.getElementById("root")).render(e.jsx(o.StrictMode,{children:e.jsx(Tt,{})}));
//# sourceMappingURL=index-BvcbgmRO.js.map
