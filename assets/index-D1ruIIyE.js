import{r as fe,a as Qe}from"./vendor-BRnhmgIC.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const m of u)if(m.type==="childList")for(const g of m.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&i(g)}).observe(document,{childList:!0,subtree:!0});function n(u){const m={};return u.integrity&&(m.integrity=u.integrity),u.referrerPolicy&&(m.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?m.credentials="include":u.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function i(u){if(u.ep)return;u.ep=!0;const m=n(u);fetch(u.href,m)}})();var X={exports:{}},T={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oe;function Be(){if(oe)return T;oe=1;var o=fe(),d=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,u=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function g(p,h,w){var x,k={},D=null,Q=null;w!==void 0&&(D=""+w),h.key!==void 0&&(D=""+h.key),h.ref!==void 0&&(Q=h.ref);for(x in h)i.call(h,x)&&!m.hasOwnProperty(x)&&(k[x]=h[x]);if(p&&p.defaultProps)for(x in h=p.defaultProps,h)k[x]===void 0&&(k[x]=h[x]);return{$$typeof:d,type:p,key:D,ref:Q,props:k,_owner:u.current}}return T.Fragment=n,T.jsx=g,T.jsxs=g,T}var ie;function Je(){return ie||(ie=1,X.exports=Be()),X.exports}var e=Je(),l=fe(),q={},le;function ze(){if(le)return q;le=1;var o=Qe();return q.createRoot=o.createRoot,q.hydrateRoot=o.hydrateRoot,q}var Ve=ze(),He={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ke=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),We=(o,d)=>{const n=l.forwardRef(({color:i="currentColor",size:u=24,strokeWidth:m=2,absoluteStrokeWidth:g,children:p,...h},w)=>l.createElement("svg",{ref:w,...He,width:u,height:u,stroke:i,strokeWidth:g?Number(m)*24/Number(u):m,className:`lucide lucide-${Ke(o)}`,...h},[...d.map(([x,k])=>l.createElement(x,k)),...(Array.isArray(p)?p:[p])||[]]));return n.displayName=`${o}`,n};var b=We;const Ge=b("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Ye=b("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Xe=b("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),ce=b("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ze=b("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),et=b("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),de=b("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),ue=b("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]),tt=b("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),st=b("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),at=b("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),me=b("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),rt=b("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),he={"github.com":["github","open-source","code"],"stackoverflow.com":["stackoverflow","programming","help"],"medium.com":["article","blog","medium"],"dev.to":["article","blog","dev-community"],"youtube.com":["video","youtube"],"twitter.com":["twitter","social-media"],"linkedin.com":["linkedin","professional","business"],"reddit.com":["reddit","discussion","community"],"hackernews.com":["hackernews","tech-news"],"news.ycombinator.com":["hackernews","tech-news"],"techcrunch.com":["news","tech-news","startup"],"wired.com":["news","technology"],"arstechnica.com":["news","technology"],"theverge.com":["news","technology"],"smashingmagazine.com":["web-development","design","tutorial"],"css-tricks.com":["css","web-development","tutorial"],"codepen.io":["frontend","css","javascript","demo"],"dribbble.com":["design","inspiration","ui"],"behance.net":["design","portfolio","creative"],"figma.com":["design","tools","ui"],"notion.so":["productivity","tools","workspace"],"vercel.com":["deployment","frontend","tools"],"netlify.com":["deployment","frontend","tools"],"aws.amazon.com":["aws","cloud","infrastructure"],"cloud.google.com":["gcp","cloud","infrastructure"],"azure.microsoft.com":["azure","cloud","microsoft"],"docker.com":["docker","containers","devops"],"kubernetes.io":["kubernetes","containers","devops"],"npmjs.com":["npm","javascript","package"],"pypi.org":["python","package","pip"]},pe={javascript:["javascript","web-development"],python:["python","programming"],react:["react","javascript","frontend"],vue:["vue","javascript","frontend"],angular:["angular","javascript","frontend"],node:["nodejs","javascript","backend"],typescript:["typescript","javascript"],css:["css","frontend","styling"],html:["html","frontend","web-development"],sql:["sql","database"],mongodb:["mongodb","database","nosql"],postgresql:["postgresql","database","sql"],mysql:["mysql","database","sql"],api:["api","backend","integration"],rest:["api","rest","backend"],graphql:["graphql","api","backend"],docker:["docker","containers","devops"],kubernetes:["kubernetes","devops","containers"],aws:["aws","cloud","infrastructure"],firebase:["firebase","backend","google"],redis:["redis","cache","database"],nginx:["nginx","web-server","devops"],apache:["apache","web-server"],tutorial:["tutorial","learning"],guide:["guide","tutorial"],documentation:["documentation","reference"],cheatsheet:["reference","cheatsheet"],"best practices":["best-practices","guide"],performance:["performance","optimization"],security:["security","important"],testing:["testing","quality"],deployment:["deployment","devops"],monitoring:["monitoring","devops"],analytics:["analytics","data"],"machine learning":["machine-learning","ai","data-science"],"artificial intelligence":["ai","machine-learning"],"data science":["data-science","analytics","python"],blockchain:["blockchain","crypto"],cryptocurrency:["crypto","blockchain"],blog:["blog","article"],article:["article","blog"],video:["video"],course:["course","learning"],book:["book","resource"],podcast:["podcast","audio"],newsletter:["newsletter"],tool:["tools","useful"],library:["library","code"],framework:["framework","code"],plugin:["plugin","extension"],theme:["theme","design"],template:["template","design"]};function ge(o,d="",n=""){const i=new Set;try{const m=new URL(o),g=m.hostname.toLowerCase().replace(/^www\./,""),p=m.pathname.toLowerCase();he[g]&&he[g].forEach(w=>i.add(w)),p.includes("/blog")&&i.add("blog"),p.includes("/tutorial")&&i.add("tutorial"),p.includes("/guide")&&i.add("guide"),(p.includes("/docs")||p.includes("/documentation"))&&i.add("documentation"),p.includes("/api")&&i.add("api"),p.includes("/reference")&&i.add("reference"),p.includes("/example")&&i.add("example"),p.includes("/demo")&&i.add("demo"),p.includes("/video")&&i.add("video"),p.includes("/course")&&i.add("course"),p.includes("/tool")&&i.add("tools");const h=`${d} ${n}`.toLowerCase();Object.keys(pe).forEach(w=>{h.includes(w)&&pe[w].forEach(x=>i.add(x))}),o.match(/\.(pdf)$/i)&&i.add("pdf"),o.match(/\.(mp4|mov|avi|mkv)$/i)&&i.add("video"),o.match(/\.(mp3|wav|flac)$/i)&&i.add("audio"),o.match(/\.(zip|tar|gz|rar)$/i)&&i.add("download"),h.match(/\b(how to|tutorial|guide|walkthrough)\b/)&&i.add("tutorial"),h.match(/\b(tips|tricks|best practices)\b/)&&i.add("tips"),h.match(/\b(breaking|news|announcement)\b/)&&i.add("news"),h.match(/\b(free|open source|libre)\b/)&&i.add("free"),h.match(/\b(awesome|amazing|incredible|must)\b/)&&i.add("interesting")}catch(m){console.warn("Error parsing URL for tag suggestions:",m)}return Array.from(i).sort((m,g)=>m.length!==g.length?m.length-g.length:m.localeCompare(g)).slice(0,8)}const xe="",nt=async()=>{try{const o=await fetch(`${xe}/api/archives`);if(!o.ok)throw new Error("Failed to load archive metadata");return await o.json()}catch(o){return console.error("Error loading archive metadata:",o),[]}},ot=async o=>{try{const d=await fetch(`${xe}/api/archive/${o}`);if(!d.ok)throw new Error(`Failed to load archive for ${o}`);return(await d.json()).links||[]}catch(d){return console.error(`Error loading archive for ${o}:`,d),[]}},it="2025-mediaeater-digest",R="linkBlogData",I=120,F={DATE_DESC:"date-desc",DATE_ASC:"date-asc",TITLE:"title"};function lt(){const[o,d]=l.useState([]),[n,i]=l.useState({url:"",source:"",pullQuote:"",tags:[],tagInput:""}),[u,m]=l.useState(!1),[g,p]=l.useState(""),[h,w]=l.useState([]),[x,k]=l.useState(F.DATE_DESC),[D,Q]=l.useState(new Set),[j,E]=l.useState(null),[O,P]=l.useState(!1),[$,B]=l.useState(""),[Z,ee]=l.useState(!1),[ye,te]=l.useState(null),[we,ut]=l.useState(-1),[be,A]=l.useState(!1),[J,z]=l.useState(""),[se,ve]=l.useState(!1),[N,je]=l.useState(!1),[S,ke]=l.useState([]),[L,Ne]=l.useState(new Set),[V,Se]=l.useState(!1),Le=l.useRef(null),Ce=l.useRef(null),Ae=l.useRef({}),_=l.useDeferredValue(g),H=l.useDeferredValue(h),Ie=g!==_,ae=l.useCallback(async()=>{try{console.log("Loading links from storage...");const a=await fetch("/data/links.json?t="+Date.now());if(a.ok){const s=await a.json();console.log("Loaded JSON data:",s);const r=localStorage.getItem(R);let c=null;if(r&&(c=JSON.parse(r)),c&&c.lastUpdated&&s.lastUpdated){const v=new Date(s.lastUpdated).getTime();new Date(c.lastUpdated).getTime()>v?d(c.links||[]):(d(s.links||[]),localStorage.setItem(R,JSON.stringify(s)))}else d(s.links||[]),localStorage.setItem(R,JSON.stringify(s));return}}catch(a){console.warn("Could not load from JSON, falling back to localStorage:",a)}const t=localStorage.getItem(R);if(t){const a=JSON.parse(t);d(a.links||[])}},[]),C=l.useCallback(async t=>{const a={links:t,lastUpdated:new Date().toISOString()};localStorage.setItem(R,JSON.stringify(a));try{if(!(await fetch("http://localhost:3001/api/save-links",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok)throw new Error("Failed to save to server")}catch(s){if(console.error("Could not save to server:",s),!window.location.hostname.includes("localhost"))console.log("âœ“ Changes saved to browser localStorage (server sync not available on static hosting)");else throw alert("Changes saved locally. Server save failed. Is the API server running?"),s}},[]),Ee=l.useCallback(async()=>{try{const t=await nt();ke(t)}catch(t){console.error("Error loading archive metadata:",t)}},[]),K=l.useCallback(async t=>{if(!L.has(t))try{const a=await ot(t);d(s=>[...s,...a]),Ne(s=>new Set([...s,t])),console.log(`Loaded ${a.length} links from ${t} archive`)}catch(a){console.error(`Error loading archive ${t}:`,a)}},[L]),Pe=l.useCallback(async()=>{for(const t of S)await K(t.year)},[S,K]);l.useEffect(()=>{ae(),Ee();const t=new URLSearchParams(window.location.search),a=t.get("admin"),s=a?a.replace(/[?&#\s]+$/,""):"";m(s===it);const r=t.get("tag");r&&w([r])},[ae]),l.useEffect(()=>{const a=new URLSearchParams(window.location.search).get("admin"),s=new URLSearchParams;a&&s.set("admin",a),h.length===1&&s.set("tag",h[0]);const r=s.toString()?`?${s.toString()}`:window.location.pathname;window.history.replaceState({},"",r)},[h]);const re=async t=>{var a,s;try{const r=await fetch(`https://api.microlink.io/?url=${encodeURIComponent(t)}`);if(!r.ok)throw new Error("Failed to fetch metadata");const c=await r.json();if(c.status==="success"&&c.data)return{title:c.data.title||"",description:c.data.description||"",image:((a=c.data.image)==null?void 0:a.url)||"",favicon:((s=c.data.logo)==null?void 0:s.url)||""}}catch(r){console.error("Error fetching metadata:",r)}try{return{title:new URL(t).hostname.replace("www.",""),description:"",image:"",favicon:""}}catch(r){return console.error("Invalid URL:",t,r),{title:t,description:"",image:"",favicon:""}}},Te=async()=>{if(!n.url||!n.source)return;if(n.source.length>I){alert(`Title must be less than ${I} characters`);return}const t=(n.tagInput||"").split(",").map(r=>r.trim()).filter(Boolean),a={id:Date.now(),url:n.url,source:n.source,pullQuote:n.pullQuote||"",tags:t,isPinned:n.isPinned||!1,timestamp:new Date().toISOString(),visits:0},s=[...o,a];try{await C(s),i({url:"",source:"",pullQuote:"",tags:[],tagInput:"",isPinned:!1}),j&&E(null)}catch(r){console.error("Failed to add link:",r)}},Re=async()=>{if(!j||!u)return;const t=(n.tagInput||"").split(",").map(r=>r.trim()).filter(Boolean),a={id:j.id,url:n.url,source:n.source,pullQuote:n.pullQuote||"",tags:t,isPinned:n.isPinned||!1,timestamp:j.timestamp,visits:j.visits||0},s=o.map(r=>r.id===j.id?a:r);try{await C(s),E(null),i({url:"",source:"",pullQuote:"",tags:[],tagInput:"",isPinned:!1})}catch(r){console.error("Failed to update link:",r)}},De=l.useCallback(t=>{u&&(E(t),i({...t,pullQuote:t.pullQuote||"",tagInput:t.tags?t.tags.join(", "):""}),P(!1),window.scrollTo({top:0,behavior:"smooth"}))},[u]),Oe=async t=>{if(!confirm("Delete this link?"))return;const a=o.filter(s=>s.id!==t);d(a),await C(a)},$e=async t=>{const a=o.map(s=>s.id===t?{...s,isPinned:!s.isPinned}:s);d(a),await C(a)},_e=()=>{try{const t=new Date().toISOString().replace(/[:.]/g,"-").split("T"),a=t[0],s=t[1].split("-").slice(0,2).join("-"),r=JSON.stringify({links:o,lastUpdated:new Date().toISOString(),exportedAt:new Date().toISOString(),totalLinks:o.length},null,2),c=new Blob([r],{type:"application/json"}),v=URL.createObjectURL(c),y=document.createElement("a");y.href=v,y.download=`link-blog-export-${a}-${s}.json`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(v),console.log(`âœ… Exported ${o.length} links`)}catch(t){console.error("âŒ Export failed:",t),alert("Export failed. Please try again or check the console for details.")}},Ue=t=>{const a=t.target.files[0];if(!a)return;console.log("ðŸ“¥ Starting import of",a.name);const s=new FileReader;s.onload=async r=>{try{const c=JSON.parse(r.target.result);if(!c.links||!Array.isArray(c.links))throw new Error('Invalid file format. Expected JSON with "links" array.');console.log(`ðŸ“Š File contains ${c.links.length} links`);const v=new Set(o.map(f=>f.url)),y=c.links.filter(f=>!f.url||!f.source?!1:!v.has(f.url)).map(f=>({...f,id:f.id||Date.now()+Math.random(),timestamp:f.timestamp||new Date().toISOString(),visits:f.visits||0,tags:Array.isArray(f.tags)?f.tags:[],isPinned:!!f.isPinned})),G=c.links.length-y.length,Y=y.length>0?`Import ${y.length} new links?${G>0?` (${G} duplicates will be skipped)`:""}`:`No new links to import (${G} duplicates found)`;if(y.length===0){alert(Y),console.log("â„¹ï¸",Y);return}if(window.confirm(Y)){const f=[...o,...y];try{d(f),await C(f);const M=`âœ… Successfully imported ${y.length} links!`;console.log(M),alert(M)}catch(M){console.error("âŒ Failed to save imported links:",M),d(f),alert(`âš ï¸ Imported ${y.length} links to UI, but save failed. Check if API server is running.`)}}}catch(c){console.error("âŒ Import failed:",c),alert(`Import failed: ${c.message}`)}},s.onerror=()=>{console.error("âŒ File reading failed"),alert("Failed to read the file. Please try again.")},s.readAsText(a),t.target.value=""},Me=l.useCallback(async t=>{const a=t.split(`
`).map(r=>r.trim()).filter(r=>r),s=[];for(const r of a){const c=await re(r),v=ge(r,c.title,c.description);s.push({url:r,source:(c.title||r).slice(0,I),pullQuote:"",tags:v.slice(0,5),metadata:c})}return s},[]),qe=async()=>{if($.trim()){ee(!0);try{const s=[...(await Me($)).map(r=>({id:Date.now()+Math.random(),url:r.url,source:r.source,pullQuote:r.pullQuote||"",tags:r.tags,timestamp:new Date().toISOString(),visits:0})),...o];d(s),await C(s),B(""),P(!1)}catch(t){console.error("Failed to add links:",t),alert("Failed to add some links")}finally{ee(!1)}}},Fe=async t=>{try{await navigator.clipboard.writeText(t.url),te(t.id),setTimeout(()=>te(null),2e3)}catch(a){console.error("Failed to copy:",a)}},U=l.useMemo(()=>{const t={};return o.forEach(a=>{(a.tags||[]).forEach(s=>{t[s]=(t[s]||0)+1})}),Object.entries(t).sort((a,s)=>s[1]-a[1]).map(([a,s])=>({tag:a,count:s}))},[o]),ne=l.useMemo(()=>{if(!J.trim())return[];const t=J.trim().toLowerCase(),a=(n.tags||[]).map(s=>s.toLowerCase());return U.filter(({tag:s})=>s.toLowerCase().startsWith(t)&&!a.includes(s.toLowerCase())).slice(0,8)},[J,U,n.tags]),W=l.useMemo(()=>{let t=o;if(_){const a=_.toLowerCase();t=t.filter(s=>s.source.toLowerCase().includes(a)||s.url.toLowerCase().includes(a)||s.pullQuote&&s.pullQuote.toLowerCase().includes(a)||s.tags&&s.tags.some(r=>r.toLowerCase().includes(a)))}return H.length>0&&(t=t.filter(a=>a.tags&&H.every(s=>a.tags.includes(s)))),[...t].sort((a,s)=>{if(a.isPinned!==s.isPinned)return s.isPinned?1:-1;switch(x){case F.DATE_ASC:return new Date(a.timestamp||0)-new Date(s.timestamp||0);case F.TITLE:return a.source.localeCompare(s.source);case F.DATE_DESC:default:return new Date(s.timestamp||0)-new Date(a.timestamp||0)}})},[o,_,H,x]);return e.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[(!N||u)&&e.jsx("header",{className:"sticky top-0 z-20 bg-white/80 backdrop-blur-sm border-b border-neutral-200",children:e.jsx("div",{className:"container-width",children:e.jsxs("div",{className:"py-4 flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-blue-700",children:e.jsx("a",{href:"/",className:"hover:underline",children:"newsfeeds.net"})}),e.jsx("div",{className:"text-xs text-amber-700 font-medium mt-0.5",children:"human edited and curated"}),e.jsxs("div",{className:"text-xs text-neutral-600 mt-1 space-y-1",children:[e.jsxs("div",{children:[e.jsx("a",{href:"/feed.xml",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"RSS"})," / ",e.jsx("a",{href:"/data/feed.json",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"JSON Feed"})," / ",e.jsx("a",{href:"/data/blogroll.opml",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"OPML"})]}),e.jsx("div",{children:e.jsx("a",{href:"https://ghuneim.com",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"(c)mediaeater.inc 2025"})})]})]}),e.jsx("div",{className:"flex-1 max-w-2xl",children:e.jsxs("div",{className:"relative",children:[e.jsx(st,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-400","aria-hidden":"true"}),e.jsx("input",{ref:Le,type:"text",value:g,onChange:t=>p(t.target.value),placeholder:"Search links...",className:`input w-full pl-10 ${Ie?"opacity-70":""}`,"aria-label":"Search links"}),g&&e.jsx("button",{onClick:()=>p(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-neutral-600","aria-label":"Clear search",children:e.jsx(rt,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"flex items-center gap-2",children:!u&&o.length===0&&e.jsx("div",{className:"text-sm text-neutral-500",children:"No links yet. Add ?admin=password to URL to manage."})})]})})}),u&&e.jsx("div",{className:"bg-white border-b border-neutral-200",children:e.jsxs("div",{className:"container-width py-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsxs("button",{onClick:()=>P(!1),className:`btn btn-sm ${O?"btn-ghost":"btn-primary"}`,children:[j?e.jsx(de,{className:"w-4 h-4 mr-2"}):e.jsx(tt,{className:"w-4 h-4 mr-2"}),j?"Edit Link":"Add Single Link"]}),e.jsxs("button",{onClick:()=>{P(!0),E(null)},className:`btn btn-sm ${O?"btn-primary":"btn-ghost"}`,children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Bulk Add URLs"]}),e.jsxs("button",{onClick:_e,className:"btn btn-sm btn-outline",title:`Export all ${o.length} links to JSON file`,children:[e.jsx(ce,{className:"w-4 h-4 mr-2"}),"Export (",o.length,")"]}),e.jsxs("label",{className:"btn btn-sm btn-outline cursor-pointer",children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Import",e.jsx("input",{type:"file",accept:".json",onChange:Ue,className:"hidden",title:"Import links from JSON file"})]})]}),!O&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"URL"}),e.jsx("input",{type:"url",placeholder:"https://example.com",value:n.url,onChange:t=>i({...n,url:t.target.value}),className:"input w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Title (",n.source.length,"/",I,")"]}),e.jsx("input",{type:"text",placeholder:"Link title or description",value:n.source,onChange:t=>i({...n,source:t.target.value}),maxLength:I,className:"input w-full"})]})]}),n.url&&(!n.source||n.tags.length===0)&&e.jsxs("button",{onClick:async()=>{const t=await re(n.url),a=ge(n.url,t.title,t.description);i(s=>{const r=s.tags.length===0?a.slice(0,5):s.tags;return{...s,source:s.source||(t.title||n.url).slice(0,I),tags:r,tagInput:r.join(", ")}})},className:"btn btn-sm btn-secondary",children:[e.jsx(Ze,{className:"w-3 h-3 mr-1"}),"Auto-fetch title & tags"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Pull Quote (optional)"}),e.jsx("textarea",{placeholder:"Interesting quote or note about this link...",value:n.pullQuote||"",onChange:t=>i({...n,pullQuote:t.target.value}),className:"input w-full h-20"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tags (comma separated)"}),e.jsx("input",{type:"text",placeholder:"tag1, tag2, tag3",value:n.tagInput||"",onChange:t=>{const a=t.target.value,s=a.split(","),r=s[s.length-1].trim();z(r),A(r.length>0);const c=a.split(",").map(v=>v.trim()).filter(Boolean);i({...n,tagInput:a,tags:c})},onFocus:()=>{const t=(n.tagInput||"").split(","),a=t[t.length-1].trim();z(a),A(a.length>0)},onBlur:t=>{setTimeout(()=>{A(!1);const a=t.target.value.split(",").map(s=>s.trim()).filter(Boolean);i({...n,tags:a,tagInput:a.join(", ")})},200)},onKeyDown:t=>{if(t.key==="Escape"){A(!1);return}if(t.key==="Enter"){t.preventDefault();const a=t.target.value.split(",").map(s=>s.trim()).filter(Boolean);i({...n,tags:a,tagInput:a.join(", ")}),A(!1)}},className:"input w-full"}),be&&ne.length>0&&e.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border-2 border-blue-500 rounded-md shadow-lg max-h-48 overflow-y-auto",children:ne.map(({tag:t,count:a})=>e.jsxs("button",{type:"button",onMouseDown:s=>{s.preventDefault();const r=(n.tagInput||"").split(",");r[r.length-1]=t;const c=r.join(", "),v=c.split(",").map(y=>y.trim()).filter(Boolean);i({...n,tagInput:c+", ",tags:v}),A(!1),z("")},className:"w-full text-left px-3 py-2 text-sm hover:bg-blue-50 transition-colors flex items-center justify-between border-b border-gray-100 last:border-b-0",children:[e.jsx("span",{className:"font-medium text-gray-900",children:t}),e.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:a})]},t))}),U.length>0&&e.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[e.jsx("span",{className:"text-xs text-neutral-500",children:"Popular:"}),U.slice(0,10).map(({tag:t})=>e.jsx("button",{onClick:()=>{const a=n.tags||[];if(!a.includes(t)){const s=[...a,t];i({...n,tags:s,tagInput:s.join(", ")})}},className:"tag text-xs",children:t},t))]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.isPinned||!1,onChange:t=>i({...n,isPinned:t.target.checked}),className:"rounded border-neutral-300"}),e.jsx("span",{className:"text-sm",children:"Pin to top"})]}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[j&&e.jsx("button",{onClick:()=>{E(null),i({url:"",source:"",pullQuote:"",tags:[],tagInput:"",isPinned:!1})},className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{onClick:j?Re:Te,disabled:!n.url||!n.source,className:"btn btn-primary",children:j?"Update Link":"Add Link"})]})]})]}),O&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Add Multiple URLs (one per line)"}),e.jsx("textarea",{ref:Ce,value:$,onChange:t=>B(t.target.value),placeholder:"Paste URLs here...",className:"input w-full h-32 font-mono text-sm"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:qe,disabled:!$.trim()||Z,className:"btn btn-primary",children:Z?"Processing...":"Add All Links"}),e.jsx("button",{onClick:()=>{P(!1),B("")},className:"btn btn-secondary",children:"Cancel"})]})]})]})}),e.jsx("main",{className:"container-width section-y",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-6 pb-4 border-b border-neutral-200",children:[e.jsxs("button",{onClick:()=>je(!N),className:"flex items-center gap-1.5 text-neutral-600 hover:text-neutral-900 transition-colors font-medium",title:N?"Show full view":"Show minimal view",children:[e.jsxs("span",{children:[W.length,":",o.length]}),e.jsx(Ye,{className:`w-3.5 h-3.5 transition-transform duration-200 ${N?"rotate-90":""}`})]}),!N&&e.jsxs("button",{onClick:()=>ve(!se),className:"flex items-center gap-1.5 text-neutral-600 hover:text-neutral-900 transition-colors",title:"Toggle legend",children:[e.jsx(et,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"font-medium",children:"Legend"})]}),!N&&e.jsx("time",{className:"text-neutral-500 font-normal",dateTime:new Date().toISOString(),children:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),!N&&se&&e.jsx("div",{className:"legend-box mb-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:[e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"font-medium text-neutral-700",children:"Title:"})," Source/article name"]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"font-medium text-neutral-700",children:"URL:"})," Domain shown below title"]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"font-medium text-neutral-700",children:"Quote:"})," Pull quote or excerpt"]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"font-medium text-neutral-700",children:"Tags:"})," Click to filter or bookmark a topic"]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"font-medium text-neutral-700",children:"Date:"})," When link was added"]})]})}),S.length>0&&e.jsxs("div",{className:"mb-6 p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"w-4 h-4 text-neutral-600"}),e.jsx("span",{className:"font-medium text-neutral-900",children:"Archives"}),e.jsxs("span",{className:"text-sm text-neutral-500",children:["(",S.reduce((t,a)=>t+a.count,0)," archived links)"]})]}),e.jsx("button",{onClick:()=>Se(!V),className:"text-sm text-neutral-600 hover:text-neutral-900 transition-colors",children:V?"Hide":"Show"})]}),V&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:S.map(t=>e.jsxs("button",{onClick:()=>K(t.year),disabled:L.has(t.year),className:`px-3 py-1.5 rounded text-sm transition-all ${L.has(t.year)?"bg-green-100 text-green-800 cursor-default":"bg-white border border-neutral-300 hover:border-primary-500 hover:bg-primary-50"}`,children:[t.year," (",t.count,")",L.has(t.year)&&" âœ“"]},t.year))}),e.jsx("button",{onClick:Pe,disabled:L.size===S.length,className:"w-full px-4 py-2 bg-primary-500 text-white rounded hover:bg-primary-600 disabled:bg-neutral-300 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:L.size===S.length?"All Archives Loaded":"Load All Archives"})]})]}),W.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-neutral-500",children:"No links found"})}):W.map((t,a)=>e.jsx("article",{ref:s=>Ae.current[a]=s,className:`link-card group ${we===a?"ring-2 ring-primary-500 ring-offset-2":""}`,children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[t.isPinned&&e.jsx(ue,{className:"w-4 h-4 text-neutral-400 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-neutral-900 truncate",children:e.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary-600 transition-colors",onClick:()=>{if(u){const s=o.map(r=>r.id===t.id?{...r,visits:(r.visits||0)+1}:r);d(s),C(s)}},children:t.source})}),e.jsx("p",{className:"text-sm text-neutral-500 truncate",children:(()=>{try{return new URL(t.url).hostname.replace("www.","")}catch{return t.url}})()})]})]}),t.pullQuote&&e.jsx("p",{className:"mt-2 text-sm text-neutral-600 italic",children:t.pullQuote}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"mt-3 flex flex-wrap gap-1",children:t.tags.map(s=>e.jsx("button",{onClick:()=>{h.includes(s)?w(h.filter(r=>r!==s)):w([...h,s])},className:"tag",children:s},s))}),e.jsx("div",{className:"mt-3 flex items-center gap-4 text-xs text-neutral-400",children:e.jsxs("span",{children:[new Date(t.timestamp).toLocaleDateString(),t.visits>0&&` [${t.visits}]`]})})]}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>Fe(t),className:"btn-ghost p-2",title:"Copy link",children:ye===t.id?e.jsx(Ge,{className:"w-4 h-4 text-success"}):e.jsx(Xe,{className:"w-4 h-4"})}),u&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>De(t),className:"btn-ghost p-2",title:"Edit link",children:e.jsx(de,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>$e(t.id),className:"btn-ghost p-2",title:"Pin link",children:e.jsx(ue,{className:`w-4 h-4 ${t.isPinned?"fill-current":""}`})}),e.jsx("button",{onClick:()=>Oe(t.id),className:"btn-ghost p-2 text-error",title:"Delete link",children:e.jsx(at,{className:"w-4 h-4"})})]})]})]})},t.id))]})})]})}class ct extends l.Component{constructor(d){super(d),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(d){return{hasError:!0}}componentDidCatch(d,n){console.error("Error caught by boundary:",d),console.error("Error info:",n),this.setState({error:d,errorInfo:n})}render(){return this.state.hasError?e.jsxs("div",{style:{padding:"20px",fontFamily:"monospace"},children:[e.jsx("h2",{style:{color:"red"},children:"Something went wrong!"}),e.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[e.jsx("summary",{children:"Click to see error details"}),e.jsx("p",{style:{color:"red"},children:this.state.error&&this.state.error.toString()}),e.jsx("pre",{children:this.state.errorInfo&&this.state.errorInfo.componentStack})]})]}):this.props.children}}function dt(){return e.jsx(ct,{children:e.jsx(lt,{})})}Ve.createRoot(document.getElementById("root")).render(e.jsx(l.StrictMode,{children:e.jsx(dt,{})}));
//# sourceMappingURL=index-D1ruIIyE.js.map
