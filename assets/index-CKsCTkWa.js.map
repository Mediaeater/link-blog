{"version":3,"file":"index-CKsCTkWa.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../node_modules/lucide-react/dist/esm/defaultAttributes.mjs","../../node_modules/lucide-react/dist/esm/createLucideIcon.mjs","../../node_modules/lucide-react/dist/esm/icons/alert-triangle.mjs","../../node_modules/lucide-react/dist/esm/icons/check.mjs","../../node_modules/lucide-react/dist/esm/icons/copy.mjs","../../node_modules/lucide-react/dist/esm/icons/download.mjs","../../node_modules/lucide-react/dist/esm/icons/external-link.mjs","../../node_modules/lucide-react/dist/esm/icons/pause.mjs","../../node_modules/lucide-react/dist/esm/icons/pen.mjs","../../node_modules/lucide-react/dist/esm/icons/pin.mjs","../../node_modules/lucide-react/dist/esm/icons/play.mjs","../../node_modules/lucide-react/dist/esm/icons/plus.mjs","../../node_modules/lucide-react/dist/esm/icons/search.mjs","../../node_modules/lucide-react/dist/esm/icons/skip-forward.mjs","../../node_modules/lucide-react/dist/esm/icons/trash-2.mjs","../../node_modules/lucide-react/dist/esm/icons/upload.mjs","../../node_modules/lucide-react/dist/esm/icons/x.mjs","../../src/utils/tagSuggestions.js","../../src/utils/storage.js","../../src/components/NewsTicker.jsx","../../src/components/DigestPanel.jsx","../../src/components/LinkBlogClean.jsx","../../src/components/ErrorBoundary.jsx","../../src/App.jsx","../../src/main.jsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.mjs';\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ color = \"currentColor\", size = 24, strokeWidth = 2, absoluteStrokeWidth, children, ...rest }, ref) => createElement(\n      \"svg\",\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n        className: `lucide lucide-${toKebabCase(iconName)}`,\n        ...rest\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...(Array.isArray(children) ? children : [children]) || []\n      ]\n    )\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\nvar createLucideIcon$1 = createLucideIcon;\n\nexport { createLucideIcon$1 as default, toKebabCase };\n//# sourceMappingURL=createLucideIcon.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst AlertTriangle = createLucideIcon(\"AlertTriangle\", [\n  [\n    \"path\",\n    {\n      d: \"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z\",\n      key: \"c3ski4\"\n    }\n  ],\n  [\"path\", { d: \"M12 9v4\", key: \"juzpu7\" }],\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }]\n]);\n\nexport { AlertTriangle as default };\n//# sourceMappingURL=alert-triangle.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Check = createLucideIcon(\"Check\", [\n  [\"polyline\", { points: \"20 6 9 17 4 12\", key: \"10jjfj\" }]\n]);\n\nexport { Check as default };\n//# sourceMappingURL=check.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Copy = createLucideIcon(\"Copy\", [\n  [\n    \"rect\",\n    {\n      width: \"14\",\n      height: \"14\",\n      x: \"8\",\n      y: \"8\",\n      rx: \"2\",\n      ry: \"2\",\n      key: \"17jyea\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2\",\n      key: \"zix9uf\"\n    }\n  ]\n]);\n\nexport { Copy as default };\n//# sourceMappingURL=copy.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Download = createLucideIcon(\"Download\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"7 10 12 15 17 10\", key: \"2ggqvy\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"15\", y2: \"3\", key: \"1vk2je\" }]\n]);\n\nexport { Download as default };\n//# sourceMappingURL=download.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst ExternalLink = createLucideIcon(\"ExternalLink\", [\n  [\n    \"path\",\n    {\n      d: \"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\",\n      key: \"a6xqqp\"\n    }\n  ],\n  [\"polyline\", { points: \"15 3 21 3 21 9\", key: \"mznyad\" }],\n  [\"line\", { x1: \"10\", x2: \"21\", y1: \"14\", y2: \"3\", key: \"18c3s4\" }]\n]);\n\nexport { ExternalLink as default };\n//# sourceMappingURL=external-link.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Pause = createLucideIcon(\"Pause\", [\n  [\"rect\", { width: \"4\", height: \"16\", x: \"6\", y: \"4\", key: \"iffhe4\" }],\n  [\"rect\", { width: \"4\", height: \"16\", x: \"14\", y: \"4\", key: \"sjin7j\" }]\n]);\n\nexport { Pause as default };\n//# sourceMappingURL=pause.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Pen = createLucideIcon(\"Pen\", [\n  [\n    \"path\",\n    { d: \"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z\", key: \"5qss01\" }\n  ]\n]);\n\nexport { Pen as default };\n//# sourceMappingURL=pen.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Pin = createLucideIcon(\"Pin\", [\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"17\", y2: \"22\", key: \"1jrz49\" }],\n  [\n    \"path\",\n    {\n      d: \"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z\",\n      key: \"13yl11\"\n    }\n  ]\n]);\n\nexport { Pin as default };\n//# sourceMappingURL=pin.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Play = createLucideIcon(\"Play\", [\n  [\"polygon\", { points: \"5 3 19 12 5 21 5 3\", key: \"191637\" }]\n]);\n\nexport { Play as default };\n//# sourceMappingURL=play.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Plus = createLucideIcon(\"Plus\", [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }]\n]);\n\nexport { Plus as default };\n//# sourceMappingURL=plus.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Search = createLucideIcon(\"Search\", [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"path\", { d: \"m21 21-4.3-4.3\", key: \"1qie3q\" }]\n]);\n\nexport { Search as default };\n//# sourceMappingURL=search.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst SkipForward = createLucideIcon(\"SkipForward\", [\n  [\"polygon\", { points: \"5 4 15 12 5 20 5 4\", key: \"16p6eg\" }],\n  [\"line\", { x1: \"19\", x2: \"19\", y1: \"5\", y2: \"19\", key: \"futhcm\" }]\n]);\n\nexport { SkipForward as default };\n//# sourceMappingURL=skip-forward.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Trash2 = createLucideIcon(\"Trash2\", [\n  [\"path\", { d: \"M3 6h18\", key: \"d0wm0j\" }],\n  [\"path\", { d: \"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\", key: \"4alrt4\" }],\n  [\"path\", { d: \"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\", key: \"v07s0e\" }],\n  [\"line\", { x1: \"10\", x2: \"10\", y1: \"11\", y2: \"17\", key: \"1uufr5\" }],\n  [\"line\", { x1: \"14\", x2: \"14\", y1: \"11\", y2: \"17\", key: \"xtxkd\" }]\n]);\n\nexport { Trash2 as default };\n//# sourceMappingURL=trash-2.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Upload = createLucideIcon(\"Upload\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"17 8 12 3 7 8\", key: \"t8dd8p\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"3\", y2: \"15\", key: \"widbto\" }]\n]);\n\nexport { Upload as default };\n//# sourceMappingURL=upload.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst X = createLucideIcon(\"X\", [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n]);\n\nexport { X as default };\n//# sourceMappingURL=x.mjs.map\n","// Common tags that can be suggested based on URL patterns and content\nexport const COMMON_TAGS = [\n  // Technology & Programming\n  'javascript', 'react', 'nodejs', 'python', 'web-development', 'frontend', 'backend',\n  'api', 'database', 'devops', 'github', 'open-source', 'tutorial', 'framework',\n  'library', 'tools', 'css', 'html', 'typescript', 'vue', 'angular', 'svelte',\n  \n  // Content Types\n  'article', 'blog', 'news', 'documentation', 'guide', 'reference', 'video',\n  'podcast', 'book', 'paper', 'research', 'course', 'tutorial',\n  \n  // General Topics\n  'ai', 'ml', 'machine-learning', 'data-science', 'blockchain', 'crypto',\n  'security', 'privacy', 'performance', 'optimization', 'testing', 'design',\n  'ux', 'ui', 'mobile', 'ios', 'android', 'cloud', 'aws', 'docker',\n  \n  // Media & Communication\n  'social-media', 'marketing', 'business', 'startup', 'productivity',\n  'automation', 'workflow', 'collaboration', 'remote-work',\n  \n  // Misc\n  'interesting', 'useful', 'important', 'later', 'inspiration', 'example',\n  'resource', 'collection', 'awesome'\n];\n\n// Domain-based tag suggestions\nconst DOMAIN_TAG_MAP = {\n  'github.com': ['github', 'open-source', 'code'],\n  'stackoverflow.com': ['stackoverflow', 'programming', 'help'],\n  'medium.com': ['article', 'blog', 'medium'],\n  'dev.to': ['article', 'blog', 'dev-community'],\n  'youtube.com': ['video', 'youtube'],\n  'twitter.com': ['twitter', 'social-media'],\n  'linkedin.com': ['linkedin', 'professional', 'business'],\n  'reddit.com': ['reddit', 'discussion', 'community'],\n  'hackernews.com': ['hackernews', 'tech-news'],\n  'news.ycombinator.com': ['hackernews', 'tech-news'],\n  'techcrunch.com': ['news', 'tech-news', 'startup'],\n  'wired.com': ['news', 'technology'],\n  'arstechnica.com': ['news', 'technology'],\n  'theverge.com': ['news', 'technology'],\n  'smashingmagazine.com': ['web-development', 'design', 'tutorial'],\n  'css-tricks.com': ['css', 'web-development', 'tutorial'],\n  'codepen.io': ['frontend', 'css', 'javascript', 'demo'],\n  'dribbble.com': ['design', 'inspiration', 'ui'],\n  'behance.net': ['design', 'portfolio', 'creative'],\n  'figma.com': ['design', 'tools', 'ui'],\n  'notion.so': ['productivity', 'tools', 'workspace'],\n  'vercel.com': ['deployment', 'frontend', 'tools'],\n  'netlify.com': ['deployment', 'frontend', 'tools'],\n  'aws.amazon.com': ['aws', 'cloud', 'infrastructure'],\n  'cloud.google.com': ['gcp', 'cloud', 'infrastructure'],\n  'azure.microsoft.com': ['azure', 'cloud', 'microsoft'],\n  'docker.com': ['docker', 'containers', 'devops'],\n  'kubernetes.io': ['kubernetes', 'containers', 'devops'],\n  'npmjs.com': ['npm', 'javascript', 'package'],\n  'pypi.org': ['python', 'package', 'pip']\n};\n\n// Keyword-based tag suggestions\nconst KEYWORD_TAG_MAP = {\n  // Programming languages\n  'javascript': ['javascript', 'web-development'],\n  'python': ['python', 'programming'],\n  'react': ['react', 'javascript', 'frontend'],\n  'vue': ['vue', 'javascript', 'frontend'],\n  'angular': ['angular', 'javascript', 'frontend'],\n  'node': ['nodejs', 'javascript', 'backend'],\n  'typescript': ['typescript', 'javascript'],\n  'css': ['css', 'frontend', 'styling'],\n  'html': ['html', 'frontend', 'web-development'],\n  'sql': ['sql', 'database'],\n  'mongodb': ['mongodb', 'database', 'nosql'],\n  'postgresql': ['postgresql', 'database', 'sql'],\n  'mysql': ['mysql', 'database', 'sql'],\n  \n  // Technologies\n  'api': ['api', 'backend', 'integration'],\n  'rest': ['api', 'rest', 'backend'],\n  'graphql': ['graphql', 'api', 'backend'],\n  'docker': ['docker', 'containers', 'devops'],\n  'kubernetes': ['kubernetes', 'devops', 'containers'],\n  'aws': ['aws', 'cloud', 'infrastructure'],\n  'firebase': ['firebase', 'backend', 'google'],\n  'redis': ['redis', 'cache', 'database'],\n  'nginx': ['nginx', 'web-server', 'devops'],\n  'apache': ['apache', 'web-server'],\n  \n  // Concepts\n  'tutorial': ['tutorial', 'learning'],\n  'guide': ['guide', 'tutorial'],\n  'documentation': ['documentation', 'reference'],\n  'cheatsheet': ['reference', 'cheatsheet'],\n  'best practices': ['best-practices', 'guide'],\n  'performance': ['performance', 'optimization'],\n  'security': ['security', 'important'],\n  'testing': ['testing', 'quality'],\n  'deployment': ['deployment', 'devops'],\n  'monitoring': ['monitoring', 'devops'],\n  'analytics': ['analytics', 'data'],\n  'machine learning': ['machine-learning', 'ai', 'data-science'],\n  'artificial intelligence': ['ai', 'machine-learning'],\n  'data science': ['data-science', 'analytics', 'python'],\n  'blockchain': ['blockchain', 'crypto'],\n  'cryptocurrency': ['crypto', 'blockchain'],\n  \n  // Content types\n  'blog': ['blog', 'article'],\n  'article': ['article', 'blog'],\n  'video': ['video'],\n  'course': ['course', 'learning'],\n  'book': ['book', 'resource'],\n  'podcast': ['podcast', 'audio'],\n  'newsletter': ['newsletter'],\n  'tool': ['tools', 'useful'],\n  'library': ['library', 'code'],\n  'framework': ['framework', 'code'],\n  'plugin': ['plugin', 'extension'],\n  'theme': ['theme', 'design'],\n  'template': ['template', 'design']\n};\n\n/**\n * Suggests tags based on URL, title, and description\n * @param {string} url - The URL to analyze\n * @param {string} title - The title/source text\n * @param {string} description - The description text\n * @returns {string[]} Array of suggested tags\n */\nexport function suggestTagsFromUrl(url, title = '', description = '') {\n  const suggestions = new Set();\n  \n  try {\n    const urlObj = new URL(url);\n    const domain = urlObj.hostname.toLowerCase().replace(/^www\\./, '');\n    const path = urlObj.pathname.toLowerCase();\n    \n    // Domain-based suggestions\n    if (DOMAIN_TAG_MAP[domain]) {\n      DOMAIN_TAG_MAP[domain].forEach(tag => suggestions.add(tag));\n    }\n    \n    // Path analysis for additional context\n    if (path.includes('/blog')) suggestions.add('blog');\n    if (path.includes('/tutorial')) suggestions.add('tutorial');\n    if (path.includes('/guide')) suggestions.add('guide');\n    if (path.includes('/docs') || path.includes('/documentation')) suggestions.add('documentation');\n    if (path.includes('/api')) suggestions.add('api');\n    if (path.includes('/reference')) suggestions.add('reference');\n    if (path.includes('/example')) suggestions.add('example');\n    if (path.includes('/demo')) suggestions.add('demo');\n    if (path.includes('/video')) suggestions.add('video');\n    if (path.includes('/course')) suggestions.add('course');\n    if (path.includes('/tool')) suggestions.add('tools');\n    \n    // Combine title and description for keyword analysis\n    const content = `${title} ${description}`.toLowerCase();\n    \n    // Keyword-based suggestions\n    Object.keys(KEYWORD_TAG_MAP).forEach(keyword => {\n      if (content.includes(keyword)) {\n        KEYWORD_TAG_MAP[keyword].forEach(tag => suggestions.add(tag));\n      }\n    });\n    \n    // File extension detection\n    if (url.match(/\\.(pdf)$/i)) suggestions.add('pdf');\n    if (url.match(/\\.(mp4|mov|avi|mkv)$/i)) suggestions.add('video');\n    if (url.match(/\\.(mp3|wav|flac)$/i)) suggestions.add('audio');\n    if (url.match(/\\.(zip|tar|gz|rar)$/i)) suggestions.add('download');\n    \n    // Content type suggestions from title/description\n    if (content.match(/\\b(how to|tutorial|guide|walkthrough)\\b/)) {\n      suggestions.add('tutorial');\n    }\n    if (content.match(/\\b(tips|tricks|best practices)\\b/)) {\n      suggestions.add('tips');\n    }\n    if (content.match(/\\b(breaking|news|announcement)\\b/)) {\n      suggestions.add('news');\n    }\n    if (content.match(/\\b(free|open source|libre)\\b/)) {\n      suggestions.add('free');\n    }\n    if (content.match(/\\b(awesome|amazing|incredible|must)\\b/)) {\n      suggestions.add('interesting');\n    }\n    \n  } catch (error) {\n    console.warn('Error parsing URL for tag suggestions:', error);\n  }\n  \n  // Convert to array and sort by relevance (more specific first)\n  const tagArray = Array.from(suggestions);\n  \n  // Sort by length (shorter, more general tags last) and alphabetically\n  return tagArray\n    .sort((a, b) => {\n      if (a.length !== b.length) return a.length - b.length;\n      return a.localeCompare(b);\n    })\n    .slice(0, 8); // Limit to 8 suggestions\n}\n\n/**\n * Gets related tags based on existing tags in the dataset\n * @param {string[]} currentTags - Currently selected tags\n * @param {Array} allLinks - All links to analyze for tag relationships\n * @returns {string[]} Array of related tag suggestions\n */\nexport function getRelatedTags(currentTags, allLinks = []) {\n  if (!currentTags.length || !allLinks.length) return [];\n  \n  const tagCoOccurrence = new Map();\n  \n  // Build co-occurrence map\n  allLinks.forEach(link => {\n    if (!link.tags || link.tags.length < 2) return;\n    \n    link.tags.forEach(tag => {\n      if (currentTags.includes(tag)) {\n        // This link contains one of our current tags\n        link.tags.forEach(otherTag => {\n          if (otherTag !== tag && !currentTags.includes(otherTag)) {\n            const count = tagCoOccurrence.get(otherTag) || 0;\n            tagCoOccurrence.set(otherTag, count + 1);\n          }\n        });\n      }\n    });\n  });\n  \n  // Sort by co-occurrence frequency and return top suggestions\n  return Array.from(tagCoOccurrence.entries())\n    .sort(([, a], [, b]) => b - a)\n    .slice(0, 5)\n    .map(([tag]) => tag);\n}\n\n/**\n * Validates and cleans a tag\n * @param {string} tag - Tag to validate\n * @returns {string|null} Cleaned tag or null if invalid\n */\nexport function validateTag(tag) {\n  if (!tag || typeof tag !== 'string') return null;\n  \n  // Clean the tag\n  const cleaned = tag\n    .toLowerCase()\n    .trim()\n    .replace(/[^a-z0-9\\-_]/g, '-') // Replace invalid chars with dash\n    .replace(/-+/g, '-') // Collapse multiple dashes\n    .replace(/^-|-$/g, ''); // Remove leading/trailing dashes\n  \n  // Validation rules\n  if (cleaned.length < 2) return null;\n  if (cleaned.length > 30) return null;\n  \n  return cleaned;\n}\n\n/**\n * Suggests tag completions based on partial input\n * @param {string} partial - Partial tag input\n * @param {string[]} existingTags - Existing tags in the system\n * @returns {string[]} Array of completion suggestions\n */\nexport function suggestTagCompletions(partial, existingTags = []) {\n  if (!partial || partial.length < 1) return [];\n  \n  const lower = partial.toLowerCase();\n  const suggestions = new Set();\n  \n  // Match from existing tags first\n  existingTags\n    .filter(tag => tag.toLowerCase().startsWith(lower))\n    .forEach(tag => suggestions.add(tag));\n  \n  // Match from common tags\n  COMMON_TAGS\n    .filter(tag => tag.toLowerCase().startsWith(lower))\n    .forEach(tag => suggestions.add(tag));\n  \n  return Array.from(suggestions)\n    .sort((a, b) => {\n      // Prioritize exact matches, then shorter matches\n      if (a.toLowerCase() === lower) return -1;\n      if (b.toLowerCase() === lower) return 1;\n      return a.length - b.length || a.localeCompare(b);\n    })\n    .slice(0, 10);\n}","const STORAGE_KEY = 'link-blog-data';\nconst API_BASE = import.meta.env.DEV ? 'http://localhost:3001' : '';\n\nexport const saveLinks = (links) => {\n  try {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(links));\n    return true;\n  } catch (error) {\n    console.error('Error saving links:', error);\n    return false;\n  }\n};\n\nexport const loadLinks = () => {\n  try {\n    const links = localStorage.getItem(STORAGE_KEY);\n    return links ? JSON.parse(links) : [];\n  } catch (error) {\n    console.error('Error loading links:', error);\n    return [];\n  }\n};\n\n/**\n * Load archived years metadata\n * In production (static), we check for known archive years\n * In dev, we use the API\n */\nexport const loadArchiveMetadata = async () => {\n  try {\n    if (import.meta.env.DEV) {\n      const response = await fetch(`${API_BASE}/api/archives`);\n      if (!response.ok) {\n        throw new Error('Failed to load archive metadata');\n      }\n      return await response.json();\n    } else {\n      // Production: try to load known archive years from static files\n      const knownYears = [2025, 2024, 2023, 2022, 2021, 2020];\n      const archives = [];\n\n      for (const year of knownYears) {\n        try {\n          const response = await fetch(`/data/archive/${year}.json?${Date.now()}`);\n          if (response.ok) {\n            const data = await response.json();\n            archives.push({ year, count: data.links?.length || 0 });\n          }\n        } catch {\n          // Year doesn't exist, skip\n        }\n      }\n      return archives;\n    }\n  } catch (error) {\n    console.error('Error loading archive metadata:', error);\n    return [];\n  }\n};\n\n/**\n * Load links from a specific archived year\n */\nexport const loadArchiveYear = async (year) => {\n  try {\n    if (import.meta.env.DEV) {\n      const response = await fetch(`${API_BASE}/api/archive/${year}`);\n      if (!response.ok) {\n        throw new Error(`Failed to load archive for ${year}`);\n      }\n      const data = await response.json();\n      return data.links || [];\n    } else {\n      // Production: load from static file\n      const response = await fetch(`/data/archive/${year}.json?${Date.now()}`);\n      if (!response.ok) {\n        throw new Error(`Failed to load archive for ${year}`);\n      }\n      const data = await response.json();\n      return data.links || [];\n    }\n  } catch (error) {\n    console.error(`Error loading archive for ${year}:`, error);\n    return [];\n  }\n};\n\n/**\n * Load all links including archives\n */\nexport const loadAllLinks = async () => {\n  try {\n    // Load current links from JSON\n    const currentResponse = await fetch('/data/links.json?' + Date.now());\n    const currentData = await currentResponse.json();\n    const allLinks = [...currentData.links];\n\n    // Load archive metadata\n    const archives = await loadArchiveMetadata();\n\n    // Load each archived year\n    for (const archive of archives) {\n      const archiveLinks = await loadArchiveYear(archive.year);\n      allLinks.push(...archiveLinks);\n    }\n\n    return allLinks;\n  } catch (error) {\n    console.error('Error loading all links:', error);\n    return [];\n  }\n};","import { useState, useEffect, useMemo, useCallback, useRef } from 'react';\nimport { Pause, Play, X, SkipForward } from 'lucide-react';\n\n/**\n * Times Square-style news ticker\n * Shows one entry at a time:\n * - Top row: Source, Date, Tags (static)\n * - Bottom row: Pull quote (scrolling)\n */\nexport default function NewsTicker({ links = [], forceShow = false, onClose }) {\n  const [isPaused, setIsPaused] = useState(false);\n  const [, setIsLandscapeMobile] = useState(false);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [prefersReducedMotion, setPrefersReducedMotion] = useState(false);\n  const [needsScroll, setNeedsScroll] = useState(false);\n  const [isTransitioning, setIsTransitioning] = useState(false);\n  const [showControls, setShowControls] = useState(true);\n  const [scrollDuration, setScrollDuration] = useState(25);\n  const quoteRef = useRef(null);\n  const trackRef = useRef(null);\n  const hideControlsTimer = useRef(null);\n  const nextLinkRef = useRef(null);\n\n  // Show only when manually toggled\n  const isVisible = forceShow;\n\n  // Filter to only links with pull quotes for better experience\n  const linksWithQuotes = useMemo(() => {\n    return links.filter(link => link.pullQuote && link.pullQuote.trim().length > 0);\n  }, [links]);\n\n  // Current link to display\n  const currentLink = linksWithQuotes[currentIndex] || links[currentIndex] || null;\n\n  // Format date\n  const formatDate = (timestamp) => {\n    if (!timestamp) return '';\n    const date = new Date(timestamp);\n    return date.toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric'\n    });\n  };\n\n  // Extract domain from URL\n  const getDomain = (url) => {\n    if (!url) return '';\n    try {\n      const hostname = new URL(url).hostname;\n      return hostname.replace(/^www\\./, '');\n    } catch {\n      return '';\n    }\n  };\n\n  // Advance to next link with black transition\n  const nextLink = useCallback(() => {\n    const list = linksWithQuotes.length > 0 ? linksWithQuotes : links;\n    if (list.length === 0) return;\n\n    // Start transition to black\n    setIsTransitioning(true);\n    // After 1 second of black, change the story\n    setTimeout(() => {\n      setCurrentIndex(prev => (prev + 1) % list.length);\n      setIsTransitioning(false);\n    }, 1000);\n  }, [linksWithQuotes, links]);\n\n  // Keep ref updated with latest nextLink\n  useEffect(() => {\n    nextLinkRef.current = nextLink;\n  }, [nextLink]);\n\n  // Auto-advance timer - uses ref to avoid resetting interval on nextLink changes\n  useEffect(() => {\n    if (!isVisible || isPaused || isTransitioning) return;\n\n    const list = linksWithQuotes.length > 0 ? linksWithQuotes : links;\n    if (list.length === 0) return;\n\n    const timer = setInterval(() => {\n      if (nextLinkRef.current) {\n        nextLinkRef.current();\n      }\n    }, 32000); // 32 seconds per entry (6s hold + 25s scroll + 1s black transition)\n\n    return () => clearInterval(timer);\n  }, [isVisible, isPaused, isTransitioning, linksWithQuotes.length, links.length]);\n\n  // Detect landscape orientation on mobile\n  useEffect(() => {\n    const checkOrientation = () => {\n      const landscape = window.matchMedia(\"(orientation: landscape)\").matches;\n      const mobile = window.matchMedia(\"(max-width: 768px)\").matches;\n      setIsLandscapeMobile(landscape && mobile);\n    };\n\n    checkOrientation();\n\n    const landscapeQuery = window.matchMedia(\"(orientation: landscape)\");\n    const mobileQuery = window.matchMedia(\"(max-width: 768px)\");\n\n    landscapeQuery.addEventListener('change', checkOrientation);\n    mobileQuery.addEventListener('change', checkOrientation);\n\n    return () => {\n      landscapeQuery.removeEventListener('change', checkOrientation);\n      mobileQuery.removeEventListener('change', checkOrientation);\n    };\n  }, []);\n\n  // Detect prefers-reduced-motion\n  useEffect(() => {\n    const motionQuery = window.matchMedia(\"(prefers-reduced-motion: reduce)\");\n    setPrefersReducedMotion(motionQuery.matches);\n\n    const handleMotionChange = (e) => setPrefersReducedMotion(e.matches);\n    motionQuery.addEventListener('change', handleMotionChange);\n\n    return () => motionQuery.removeEventListener('change', handleMotionChange);\n  }, []);\n\n  // Auto-pause when reduced motion is preferred\n  useEffect(() => {\n    if (prefersReducedMotion) {\n      setIsPaused(true);\n    }\n  }, [prefersReducedMotion]);\n\n  // Check if quote needs scrolling and calculate dynamic scroll duration\n  useEffect(() => {\n    const checkOverflow = () => {\n      if (quoteRef.current && trackRef.current) {\n        const quoteHeight = quoteRef.current.scrollHeight;\n        const trackHeight = trackRef.current.clientHeight;\n        const overflow = quoteHeight - trackHeight;\n\n        if (overflow > 20) {\n          setNeedsScroll(true);\n          // Calculate duration based on overflow: ~40px per second for consistent speed\n          const calculatedDuration = Math.max(15, Math.min(60, overflow / 40));\n          setScrollDuration(calculatedDuration);\n        } else {\n          setNeedsScroll(false);\n        }\n      }\n    };\n\n    // Check after content renders\n    const timer = setTimeout(checkOverflow, 100);\n    return () => clearTimeout(timer);\n  }, [currentIndex, currentLink]);\n\n  // Auto-hide controls after 3 seconds\n  useEffect(() => {\n    if (!isVisible) return;\n\n    const startHideTimer = () => {\n      if (hideControlsTimer.current) {\n        clearTimeout(hideControlsTimer.current);\n      }\n      hideControlsTimer.current = setTimeout(() => {\n        setShowControls(false);\n      }, 3000);\n    };\n\n    // Start timer on mount and when controls are shown\n    if (showControls) {\n      startHideTimer();\n    }\n\n    return () => {\n      if (hideControlsTimer.current) {\n        clearTimeout(hideControlsTimer.current);\n      }\n    };\n  }, [isVisible, showControls]);\n\n  // Show controls on tap/click anywhere\n  const handleScreenTap = useCallback((e) => {\n    // Don't trigger if clicking a button\n    if (e.target.closest('.ticker-control')) return;\n    setShowControls(true);\n  }, []);\n\n  // Keyboard controls\n  useEffect(() => {\n    if (!isVisible) return;\n\n    const handleKeyPress = (e) => {\n      if (e.target.tagName === 'INPUT') return;\n\n      if (e.key === ' ') {\n        e.preventDefault();\n        setIsPaused(prev => !prev);\n      } else if (e.key === 'ArrowRight' || e.key === 'n') {\n        nextLink();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [isVisible, nextLink]);\n\n  const handleTogglePause = () => {\n    setIsPaused(prev => !prev);\n  };\n\n  const handleItemClick = () => {\n    if (currentLink?.url) {\n      window.open(currentLink.url, '_blank', 'noopener,noreferrer');\n    }\n  };\n\n  // Don't render if not visible or still loading (prevents \"no links\" flash)\n  if (!isVisible) return null;\n  if (!currentLink && links.length === 0) return null;\n  if (!currentLink) return null;\n\n  const list = linksWithQuotes.length > 0 ? linksWithQuotes : links;\n\n  return (\n    <div\n      className=\"ticker-container\"\n      role=\"region\"\n      aria-live=\"polite\"\n      aria-label=\"News ticker\"\n      onClick={handleScreenTap}\n    >\n      {/* Main content area */}\n      <div className={`ticker-card ${isTransitioning ? 'ticker-fade-out' : ''}`} onClick={handleItemClick}>\n        {/* Top: Source headline + domain */}\n        <div className=\"ticker-headline\">\n          <span className=\"ticker-source\">{currentLink.source}</span>\n          <span className=\"ticker-domain\">{getDomain(currentLink.url)}</span>\n        </div>\n\n        {/* Middle: Quote text */}\n        <div className=\"ticker-quote-track\" ref={trackRef}>\n          <div\n            className={`ticker-quote ${needsScroll ? 'needs-scroll' : ''}`}\n            key={currentIndex}\n            ref={quoteRef}\n            style={needsScroll ? { '--scroll-duration': `${scrollDuration}s` } : undefined}\n          >\n            {currentLink.pullQuote || currentLink.source}\n          </div>\n        </div>\n\n        {/* Bottom: Date and tags */}\n        <div className=\"ticker-footer\">\n          <span className=\"ticker-date\">{formatDate(currentLink.timestamp)}</span>\n          {currentLink.tags && currentLink.tags.length > 0 && (\n            <>\n              <span className=\"ticker-separator\">•</span>\n              <span className=\"ticker-tags\">{currentLink.tags.join(', ')}</span>\n            </>\n          )}\n        </div>\n\n        {/* Progress indicator - auto-hides */}\n        <div className={`ticker-progress ${showControls ? '' : 'ticker-hidden'}`}>\n          <span>{currentIndex + 1} / {list.length}</span>\n        </div>\n      </div>\n\n      {/* Controls - auto-hide */}\n      <div className={`ticker-controls ${showControls ? '' : 'ticker-hidden'}`}>\n        <button\n          className=\"ticker-control\"\n          onClick={(e) => { e.stopPropagation(); handleTogglePause(); }}\n          aria-label={isPaused ? 'Resume' : 'Pause'}\n          aria-pressed={isPaused}\n        >\n          {isPaused ? <Play className=\"w-6 h-6\" /> : <Pause className=\"w-6 h-6\" />}\n        </button>\n        <button\n          className=\"ticker-control\"\n          onClick={(e) => { e.stopPropagation(); nextLink(); }}\n          aria-label=\"Next\"\n        >\n          <SkipForward className=\"w-6 h-6\" />\n        </button>\n        {onClose && (\n          <button\n            className=\"ticker-control\"\n            onClick={(e) => { e.stopPropagation(); onClose(); }}\n            aria-label=\"Close\"\n          >\n            <X className=\"w-6 h-6\" />\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect, useCallback } from 'react';\n\nconst API_BASE = import.meta.env.DEV ? 'http://127.0.0.1:3001' : '';\n\nexport default function DigestPanel() {\n  const [status, setStatus] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [generating, setGenerating] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [generatedHtml, setGeneratedHtml] = useState('');\n  const [copied, setCopied] = useState(false);\n  const [error, setError] = useState(null);\n\n  const fetchStatus = useCallback(async () => {\n    try {\n      const response = await fetch(`${API_BASE}/api/digest/status`);\n      if (response.ok) {\n        const data = await response.json();\n        setStatus(data);\n        setError(null);\n      }\n    } catch (err) {\n      setError('Could not fetch digest status');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchStatus();\n  }, [fetchStatus]);\n\n  const handleGenerate = async (markAsDigested = false) => {\n    setGenerating(true);\n    setCopied(false);\n    try {\n      const response = await fetch(`${API_BASE}/api/digest/generate`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ markAsDigested })\n      });\n      const data = await response.json();\n      if (data.success) {\n        setGeneratedHtml(data.html);\n        setShowModal(true);\n        if (markAsDigested) {\n          fetchStatus();\n        }\n      } else {\n        setError(data.error || 'Failed to generate digest');\n      }\n    } catch (err) {\n      setError('Failed to generate digest');\n    } finally {\n      setGenerating(false);\n    }\n  };\n\n  const handleCopy = async () => {\n    try {\n      await navigator.clipboard.writeText(generatedHtml);\n      setCopied(true);\n    } catch (err) {\n      const textarea = document.createElement('textarea');\n      textarea.value = generatedHtml;\n      document.body.appendChild(textarea);\n      textarea.select();\n      document.execCommand('copy');\n      document.body.removeChild(textarea);\n      setCopied(true);\n    }\n  };\n\n  const handleMarkAsDigested = async () => {\n    await handleGenerate(true);\n    setShowModal(false);\n  };\n\n  if (loading) return null;\n\n  return (\n    <>\n      <div className=\"flex items-center gap-2\">\n        <button\n          onClick={() => handleGenerate(false)}\n          disabled={generating || !status || status.undigestedCount === 0}\n          className={`px-3 py-1.5 rounded text-sm font-medium flex items-center gap-2 ${\n            status?.ready\n              ? 'bg-amber-500 hover:bg-amber-600 text-white'\n              : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600'\n          } disabled:opacity-50 disabled:cursor-not-allowed`}\n        >\n          {generating ? 'Generating...' : 'WP Digest'}\n          {status && (\n            <span className={`px-1.5 py-0.5 rounded text-xs ${\n              status.ready ? 'bg-amber-600' : 'bg-gray-400 dark:bg-gray-600'\n            }`}>\n              {status.undigestedCount}\n            </span>\n          )}\n        </button>\n      </div>\n\n      {showModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] flex flex-col\">\n            <div className=\"p-4 border-b dark:border-gray-700 flex justify-between items-center\">\n              <h2 className=\"text-lg font-semibold\">\n                WordPress Digest ({status?.undigestedCount} links)\n              </h2>\n              <button\n                onClick={() => setShowModal(false)}\n                className=\"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300\"\n              >\n                ✕\n              </button>\n            </div>\n\n            <div className=\"p-4 flex-1 overflow-auto\">\n              <label className=\"block text-sm font-medium mb-2\">HTML Output:</label>\n              <textarea\n                readOnly\n                value={generatedHtml}\n                className=\"w-full h-48 p-2 font-mono text-sm border rounded dark:bg-gray-900 dark:border-gray-600\"\n              />\n\n              <label className=\"block text-sm font-medium mt-4 mb-2\">Preview:</label>\n              <div\n                className=\"p-3 border rounded bg-gray-50 dark:bg-gray-900 dark:border-gray-600 prose dark:prose-invert max-w-none\"\n                dangerouslySetInnerHTML={{ __html: generatedHtml }}\n              />\n            </div>\n\n            <div className=\"p-4 border-t dark:border-gray-700 flex gap-2 justify-end\">\n              <button\n                onClick={() => setShowModal(false)}\n                className=\"px-4 py-2 rounded border dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleCopy}\n                className={`px-4 py-2 rounded ${\n                  copied\n                    ? 'bg-green-500 text-white'\n                    : 'bg-blue-500 hover:bg-blue-600 text-white'\n                }`}\n              >\n                {copied ? '✓ Copied!' : 'Copy HTML'}\n              </button>\n              {copied && (\n                <button\n                  onClick={handleMarkAsDigested}\n                  className=\"px-4 py-2 rounded bg-amber-500 hover:bg-amber-600 text-white\"\n                >\n                  Mark as Digested\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {error && (\n        <div className=\"fixed bottom-4 right-4 bg-red-500 text-white px-4 py-2 rounded shadow-lg\">\n          {error}\n          <button onClick={() => setError(null)} className=\"ml-2\">✕</button>\n        </div>\n      )}\n    </>\n  );\n}\n","import { useState, useEffect, useCallback, useMemo, useRef, useDeferredValue, Fragment } from 'react';\nimport {\n  Search,\n  Plus,\n  X,\n  ExternalLink,\n  Pin,\n  Edit2,\n  Trash2,\n  Download,\n  Upload,\n  Copy,\n  Check,\n  AlertTriangle\n} from 'lucide-react';\nimport { suggestTagsFromUrl } from '../utils/tagSuggestions';\nimport { loadArchiveMetadata, loadArchiveYear } from '../utils/storage';\nimport NewsTicker from './NewsTicker';\nimport DigestPanel from './DigestPanel';\n\nconst ADMIN_USER = import.meta.env.VITE_ADMIN_PASSWORD || 'YourNewPassword';\nconst STORAGE_KEY = 'linkBlogData';\nconst MAX_TITLE_LENGTH = 120;\n\nconst SORT_OPTIONS = {\n  DATE_DESC: 'date-desc',\n  DATE_ASC: 'date-asc',\n  TITLE: 'title',\n};\n\nexport default function LinkBlogClean() {\n  const [links, setLinks] = useState([]);\n  const [newLink, setNewLink] = useState({ url: '', source: '', pullQuote: '', tags: [], tagInput: '' });\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedTags, setSelectedTags] = useState([]);\n  const [sortBy] = useState(SORT_OPTIONS.DATE_DESC);\n  const [editingLink, setEditingLink] = useState(null);\n  const [showQuickAdd, setShowQuickAdd] = useState(false);\n  const [quickAddUrls, setQuickAddUrls] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [copiedLinkId, setCopiedLinkId] = useState(null);\n  const [focusedLinkIndex] = useState(-1);\n  const [showAutocomplete, setShowAutocomplete] = useState(false);\n  const [currentTagInput, setCurrentTagInput] = useState('');\n  const [autocompleteIndex, setAutocompleteIndex] = useState(0);\n  const [isLegendExpanded, setIsLegendExpanded] = useState(false);\n  const [isMinimalView, setIsMinimalView] = useState(false);\n  const [archives, setArchives] = useState([]);\n  const [loadedArchives, setLoadedArchives] = useState(new Set());\n  const [searchExpanded, setSearchExpanded] = useState(false);\n  const [saveError, setSaveError] = useState(null);\n  const [dataWarning, setDataWarning] = useState(null);\n  const [showTicker, setShowTicker] = useState(false);\n\n  const searchRef = useRef(null);\n  const autoBackupRef = useRef(null);\n  const quickPasteRef = useRef(null);\n  const linkRefs = useRef({});\n  const tagInputRef = useRef(null);\n\n  // React 18 performance: defer expensive filter/sort operations\n  const deferredSearchTerm = useDeferredValue(searchTerm);\n  const deferredSelectedTags = useDeferredValue(selectedTags);\n  const isSearchPending = searchTerm !== deferredSearchTerm;\n\n  // Load links from storage\n  const loadLinks = useCallback(async () => {\n    // Helper to safely access localStorage (may be blocked by privacy settings)\n    const safeLocalStorage = {\n      getItem: (key) => {\n        try { return localStorage.getItem(key); } catch { return null; }\n      },\n      setItem: (key, value) => {\n        try { localStorage.setItem(key, value); } catch { /* ignored */ }\n      }\n    };\n\n    try {\n      console.log('Loading links from storage...');\n      // Try to load from JSON first\n      const response = await fetch('/data/links.json?t=' + Date.now());\n      if (response.ok) {\n        const jsonData = await response.json();\n        console.log('Loaded JSON data:', jsonData);\n\n        // Also check localStorage (may fail in some browsers)\n        const stored = safeLocalStorage.getItem(STORAGE_KEY);\n        let localData = null;\n        if (stored) {\n          localData = JSON.parse(stored);\n        }\n\n        // Use the most recent data with version check warning\n        if (localData && localData.lastUpdated && jsonData.lastUpdated) {\n          const jsonTime = new Date(jsonData.lastUpdated).getTime();\n          const localTime = new Date(localData.lastUpdated).getTime();\n          const localCount = localData.links?.length || 0;\n          const jsonCount = jsonData.links?.length || 0;\n\n          // Key insight: after git pull, JSON has the authoritative data\n          // Priority: more links wins, then newer timestamp\n\n          if (jsonCount > localCount) {\n            // JSON has more links (e.g., after git pull) - use JSON, sync to localStorage\n            console.log(`Syncing from JSON: ${jsonCount} links (vs ${localCount} in browser)`);\n            setLinks(jsonData.links || []);\n            safeLocalStorage.setItem(STORAGE_KEY, JSON.stringify(jsonData));\n            setDataWarning({\n              message: `Synced ${jsonCount - localCount} new links from server.`,\n              localCount,\n              jsonCount,\n              synced: true\n            });\n          } else if (localCount > jsonCount) {\n            // localStorage has more links - warn user to save\n            setLinks(localData.links || []);\n            setDataWarning({\n              message: `Browser has ${localCount - jsonCount} more links than server. Save to sync.`,\n              localCount,\n              jsonCount,\n              localTime: new Date(localData.lastUpdated).toLocaleString(),\n              jsonTime: new Date(jsonData.lastUpdated).toLocaleString()\n            });\n          } else {\n            // Same count - use newer timestamp\n            if (localTime > jsonTime) {\n              setLinks(localData.links || []);\n            } else {\n              setLinks(jsonData.links || []);\n              safeLocalStorage.setItem(STORAGE_KEY, JSON.stringify(jsonData));\n            }\n          }\n        } else {\n          // No localStorage data or missing timestamps - just use JSON\n          setLinks(jsonData.links || []);\n          safeLocalStorage.setItem(STORAGE_KEY, JSON.stringify(jsonData));\n        }\n        return;\n      }\n    } catch (error) {\n      console.warn('Could not load from JSON, falling back to localStorage:', error);\n    }\n\n    // Fallback to localStorage\n    const stored = safeLocalStorage.getItem(STORAGE_KEY);\n    if (stored) {\n      try {\n        const data = JSON.parse(stored);\n        setLinks(data.links || []);\n      } catch {\n        console.warn('Could not parse localStorage data');\n      }\n    }\n  }, []);\n\n  // Save to file\n  const saveToFile = useCallback(async (updatedLinks) => {\n    const data = {\n      links: updatedLinks,\n      lastUpdated: new Date().toISOString()\n    };\n\n    // Save to localStorage first (may fail in privacy modes)\n    try {\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n    } catch {\n      console.warn('localStorage not available');\n    }\n\n    // Then try to save to file\n    const isProduction = !['localhost', '127.0.0.1', 'newsfeeds.net'].some(h => window.location.hostname.includes(h));\n\n    try {\n      const response = await fetch('http://127.0.0.1:3001/api/save-links', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(data)\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to save to server');\n      }\n\n      // Success - clear any errors and warnings\n      setSaveError(null);\n      setDataWarning(null);\n      console.log(`✅ Saved ${updatedLinks.length} links to server`);\n    } catch (error) {\n      console.error('Could not save to server:', error);\n\n      if (isProduction) {\n        console.log('✓ Changes saved to browser localStorage (server sync not available on static hosting)');\n      } else {\n        // Show persistent error banner instead of alert\n        setSaveError({\n          message: `Save failed! ${updatedLinks.length} links saved to browser only.`,\n          details: 'API server not responding. Start it with: npm run dev:save',\n          timestamp: new Date().toLocaleTimeString()\n        });\n      }\n    }\n  }, []);\n\n  // Load archive metadata\n  const loadArchivesList = useCallback(async () => {\n    try {\n      const metadata = await loadArchiveMetadata();\n      setArchives(metadata);\n    } catch (error) {\n      console.error('Error loading archive metadata:', error);\n    }\n  }, []);\n\n  // Load a specific archive year\n  const loadArchive = useCallback(async (year) => {\n    if (loadedArchives.has(year)) {\n      return; // Already loaded\n    }\n\n    try {\n      const archiveLinks = await loadArchiveYear(year);\n      setLinks(currentLinks => [...currentLinks, ...archiveLinks]);\n      setLoadedArchives(prev => new Set([...prev, year]));\n      console.log(`Loaded ${archiveLinks.length} links from ${year} archive`);\n    } catch (error) {\n      console.error(`Error loading archive ${year}:`, error);\n    }\n  }, [loadedArchives]);\n\n  // Load all archives at once\n  const loadAllArchives = useCallback(async () => {\n    for (const archive of archives) {\n      await loadArchive(archive.year);\n    }\n  }, [archives, loadArchive]);\n\n  // Auto-backup to localStorage backup key (overwrites each time)\n  const performAutoBackup = useCallback(() => {\n    try {\n      const data = localStorage.getItem(STORAGE_KEY);\n      if (data) {\n        const backupData = {\n          ...JSON.parse(data),\n          backupTimestamp: new Date().toISOString()\n        };\n        localStorage.setItem(`${STORAGE_KEY}_backup`, JSON.stringify(backupData));\n        console.log(`🔄 Auto-backup: ${backupData.links?.length || 0} links backed up at ${new Date().toLocaleTimeString()}`);\n      }\n    } catch {\n      // localStorage not available in this browser/mode\n    }\n  }, []);\n\n  // Set up auto-backup interval (every 5 minutes)\n  useEffect(() => {\n    // Only run auto-backup for admin users in dev mode\n    const isProduction = !['localhost', '127.0.0.1', 'newsfeeds.net'].some(h => window.location.hostname.includes(h));\n    if (isProduction) return;\n\n    // Initial backup after 30 seconds\n    const initialBackup = setTimeout(() => {\n      performAutoBackup();\n    }, 30000);\n\n    // Then every 5 minutes\n    autoBackupRef.current = setInterval(() => {\n      performAutoBackup();\n    }, 5 * 60 * 1000);\n\n    return () => {\n      clearTimeout(initialBackup);\n      if (autoBackupRef.current) {\n        clearInterval(autoBackupRef.current);\n      }\n    };\n  }, [performAutoBackup]);\n\n  // Initialize\n  // Load initial data and URL parameters\n  useEffect(() => {\n    loadLinks();\n    loadArchivesList();\n    const urlParams = new URLSearchParams(window.location.search);\n    const adminParam = urlParams.get('admin');\n    // Clean the admin parameter - remove any trailing special characters or whitespace\n    const cleanAdmin = adminParam ? adminParam.replace(/[?&#\\s]+$/, '') : '';\n    setIsAdmin(cleanAdmin === ADMIN_USER);\n\n    // Load tag filters from URL\n    const tagParam = urlParams.get('tag');\n    if (tagParam) {\n      setSelectedTags([tagParam]);\n    }\n  }, [loadLinks]);\n\n  // Update URL when tags change\n  useEffect(() => {\n    const urlParams = new URLSearchParams(window.location.search);\n\n    // Preserve admin parameter\n    const adminParam = urlParams.get('admin');\n    const newParams = new URLSearchParams();\n    if (adminParam) {\n      newParams.set('admin', adminParam);\n    }\n\n    // Add tag parameter if tags are selected\n    if (selectedTags.length === 1) {\n      newParams.set('tag', selectedTags[0]);\n    }\n\n    // Update URL without reload\n    const newUrl = newParams.toString() ? `?${newParams.toString()}` : window.location.pathname;\n    window.history.replaceState({}, '', newUrl);\n  }, [selectedTags]);\n\n  // Fetch URL metadata\n  const fetchUrlMetadata = async (url) => {\n    try {\n      const response = await fetch(`https://api.microlink.io/?url=${encodeURIComponent(url)}`);\n      if (!response.ok) throw new Error('Failed to fetch metadata');\n      const data = await response.json();\n\n      if (data.status === 'success' && data.data) {\n        return {\n          title: data.data.title || '',\n          description: data.data.description || '',\n          image: data.data.image?.url || '',\n          favicon: data.data.logo?.url || ''\n        };\n      }\n    } catch (error) {\n      console.error('Error fetching metadata:', error);\n    }\n\n    // Fallback - wrap in try-catch for invalid URLs\n    try {\n      const domain = new URL(url).hostname.replace('www.', '');\n      return { title: domain, description: '', image: '', favicon: '' };\n    } catch (urlError) {\n      console.error('Invalid URL:', url, urlError);\n      return { title: url, description: '', image: '', favicon: '' };\n    }\n  };\n\n  // Add link\n  const addLink = async () => {\n    if (!newLink.url || !newLink.source) return;\n\n    if (newLink.source.length > MAX_TITLE_LENGTH) {\n      alert(`Title must be less than ${MAX_TITLE_LENGTH} characters`);\n      return;\n    }\n\n    // Use tags array directly (from chip system), plus any pending input\n    const pendingTag = currentTagInput.trim().toLowerCase();\n    const finalTags = pendingTag && !newLink.tags?.includes(pendingTag)\n      ? [...(newLink.tags || []), pendingTag]\n      : (newLink.tags || []);\n\n    // Build clean link object - exclude UI-only fields like tagInput\n    const link = {\n      id: Date.now(),\n      url: newLink.url,\n      source: newLink.source,\n      pullQuote: newLink.pullQuote || '',\n      tags: finalTags,\n      isPinned: newLink.isPinned || false,\n      timestamp: new Date().toISOString(),\n      visits: 0\n    };\n\n    const updatedLinks = [...links, link];\n    setLinks(updatedLinks);  // Update UI immediately\n\n    try {\n      await saveToFile(updatedLinks);\n      setNewLink({ url: '', source: '', pullQuote: '', tags: [], tagInput: '', isPinned: false });\n      setCurrentTagInput('');\n      if (editingLink) {\n        setEditingLink(null);\n      }\n    } catch (error) {\n      console.error('Failed to add link:', error);\n    }\n  };\n\n  // Update link\n  const updateLink = async () => {\n    if (!editingLink || !isAdmin) return;\n\n    // Use tags array directly (from chip system), plus any pending input\n    const pendingTag = currentTagInput.trim().toLowerCase();\n    const finalTags = pendingTag && !newLink.tags?.includes(pendingTag)\n      ? [...(newLink.tags || []), pendingTag]\n      : (newLink.tags || []);\n\n    // Build clean updated link object - exclude UI-only fields like tagInput\n    const updatedLinkData = {\n      id: editingLink.id,\n      url: newLink.url,\n      source: newLink.source,\n      pullQuote: newLink.pullQuote || '',\n      tags: finalTags,\n      isPinned: newLink.isPinned || false,\n      timestamp: editingLink.timestamp,\n      visits: editingLink.visits || 0\n    };\n\n    const updatedLinks = links.map(link =>\n      link.id === editingLink.id ? updatedLinkData : link\n    );\n\n    try {\n      await saveToFile(updatedLinks);\n      setEditingLink(null);\n      setNewLink({ url: '', source: '', pullQuote: '', tags: [], tagInput: '', isPinned: false });\n      setCurrentTagInput('');\n    } catch (error) {\n      console.error('Failed to update link:', error);\n    }\n  };\n\n  // Edit link\n  const editLink = useCallback((link) => {\n    if (!isAdmin) return;\n    setEditingLink(link);\n    setNewLink({ ...link, pullQuote: link.pullQuote || '', tags: link.tags || [], tagInput: '' });\n    setCurrentTagInput('');\n    setShowQuickAdd(false);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }, [isAdmin]);\n\n  // Delete link\n  const deleteLink = async (id) => {\n    if (!confirm('Delete this link?')) return;\n    const updatedLinks = links.filter(l => l.id !== id);\n    setLinks(updatedLinks);\n    await saveToFile(updatedLinks);\n  };\n\n  // Toggle pin\n  const togglePin = async (id) => {\n    const updatedLinks = links.map(link =>\n      link.id === id ? { ...link, isPinned: !link.isPinned } : link\n    );\n    setLinks(updatedLinks);\n    await saveToFile(updatedLinks);\n  };\n\n  // Export links\n  const exportLinks = () => {\n    try {\n      const timestamp = new Date().toISOString().replace(/[:.]/g, '-').split('T');\n      const dateStr = timestamp[0];\n      const timeStr = timestamp[1].split('-').slice(0, 2).join('-');\n\n      const dataStr = JSON.stringify({\n        links,\n        lastUpdated: new Date().toISOString(),\n        exportedAt: new Date().toISOString(),\n        totalLinks: links.length\n      }, null, 2);\n\n      const dataBlob = new Blob([dataStr], { type: 'application/json' });\n      const url = URL.createObjectURL(dataBlob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `link-blog-export-${dateStr}-${timeStr}.json`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      URL.revokeObjectURL(url);\n\n      console.log(`✅ Exported ${links.length} links`);\n    } catch (error) {\n      console.error('❌ Export failed:', error);\n      alert('Export failed. Please try again or check the console for details.');\n    }\n  };\n\n  // Import links\n  const importLinks = (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    console.log('📥 Starting import of', file.name);\n\n    const reader = new FileReader();\n    reader.onload = async (e) => {\n      try {\n        const importedData = JSON.parse(e.target.result);\n\n        if (!importedData.links || !Array.isArray(importedData.links)) {\n          throw new Error('Invalid file format. Expected JSON with \"links\" array.');\n        }\n\n        console.log(`📊 File contains ${importedData.links.length} links`);\n\n        const existingUrls = new Set(links.map(link => link.url));\n\n        const validNewLinks = importedData.links.filter(link => {\n          if (!link.url || !link.source) return false;\n          return !existingUrls.has(link.url);\n        }).map(link => ({\n          ...link,\n          id: link.id || Date.now() + Math.random(),\n          timestamp: link.timestamp || new Date().toISOString(),\n          visits: link.visits || 0,\n          tags: Array.isArray(link.tags) ? link.tags : [],\n          isPinned: Boolean(link.isPinned)\n        }));\n\n        const duplicates = importedData.links.length - validNewLinks.length;\n        const message = validNewLinks.length > 0\n          ? `Import ${validNewLinks.length} new links?${duplicates > 0 ? ` (${duplicates} duplicates will be skipped)` : ''}`\n          : `No new links to import (${duplicates} duplicates found)`;\n\n        if (validNewLinks.length === 0) {\n          alert(message);\n          console.log('ℹ️', message);\n          return;\n        }\n\n        const confirmImport = window.confirm(message);\n        if (confirmImport) {\n          const mergedLinks = [...links, ...validNewLinks];\n\n          try {\n            setLinks(mergedLinks);\n            await saveToFile(mergedLinks);\n\n            const successMsg = `✅ Successfully imported ${validNewLinks.length} links!`;\n            console.log(successMsg);\n            alert(successMsg);\n\n          } catch (error) {\n            console.error('❌ Failed to save imported links:', error);\n            setLinks(mergedLinks);\n            alert(`⚠️ Imported ${validNewLinks.length} links to UI, but save failed. Check if API server is running.`);\n          }\n        }\n\n      } catch (error) {\n        console.error('❌ Import failed:', error);\n        alert(`Import failed: ${error.message}`);\n      }\n    };\n\n    reader.onerror = () => {\n      console.error('❌ File reading failed');\n      alert('Failed to read the file. Please try again.');\n    };\n\n    reader.readAsText(file);\n    event.target.value = '';\n  };\n\n  // Process multiple URLs\n  const processUrlsFromPaste = useCallback(async (urls) => {\n    const urlList = urls.split('\\n').map(url => url.trim()).filter(url => url);\n    const processed = [];\n\n    for (const url of urlList) {\n      const metadata = await fetchUrlMetadata(url);\n      const suggestedTags = suggestTagsFromUrl(url, metadata.title, metadata.description);\n\n      processed.push({\n        url,\n        source: (metadata.title || url).slice(0, MAX_TITLE_LENGTH),\n        pullQuote: '',\n        tags: suggestedTags.slice(0, 5),\n        metadata\n      });\n    }\n\n    return processed;\n  }, []);\n\n  // Add quick links\n  const addQuickLinks = async () => {\n    if (!quickAddUrls.trim()) return;\n\n    setIsLoading(true);\n    try {\n      const linksToAdd = await processUrlsFromPaste(quickAddUrls);\n\n      const newLinks = linksToAdd.map(link => ({\n        id: Date.now() + Math.random(),\n        url: link.url,\n        source: link.source,\n        pullQuote: link.pullQuote || '',\n        tags: link.tags,\n        timestamp: new Date().toISOString(),\n        visits: 0\n      }));\n\n      const updatedLinks = [...newLinks, ...links];\n      setLinks(updatedLinks);\n      await saveToFile(updatedLinks);\n\n      setQuickAddUrls('');\n      setShowQuickAdd(false);\n    } catch (error) {\n      console.error('Failed to add links:', error);\n      alert('Failed to add some links');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Copy link\n  const copyLink = async (link) => {\n    try {\n      await navigator.clipboard.writeText(link.url);\n      setCopiedLinkId(link.id);\n      setTimeout(() => setCopiedLinkId(null), 2000);\n    } catch (error) {\n      console.error('Failed to copy:', error);\n    }\n  };\n\n  // Get all unique tags\n  const allTags = useMemo(() => {\n    const tagCounts = {};\n    links.forEach(link => {\n      (link.tags || []).forEach(tag => {\n        tagCounts[tag] = (tagCounts[tag] || 0) + 1;\n      });\n    });\n    return Object.entries(tagCounts)\n      .sort((a, b) => b[1] - a[1])\n      .map(([tag, count]) => ({ tag, count }));\n  }, [links]);\n\n  // Filtered autocomplete tags\n  const filteredAutocompleteTags = useMemo(() => {\n    if (!currentTagInput.trim()) return [];\n\n    const searchTerm = currentTagInput.trim().toLowerCase();\n    const existingTags = (newLink.tags || []).map(t => t.toLowerCase());\n\n    return allTags\n      .filter(({ tag }) =>\n        tag.toLowerCase().startsWith(searchTerm) &&\n        !existingTags.includes(tag.toLowerCase())\n      )\n      .slice(0, 8);\n  }, [currentTagInput, allTags, newLink.tags]);\n\n  // Filter and sort links - uses deferred values for non-blocking UI\n  const filteredAndSortedLinks = useMemo(() => {\n    let filtered = links;\n\n    // Search filter (uses deferred value for smoother typing)\n    if (deferredSearchTerm) {\n      const term = deferredSearchTerm.toLowerCase();\n      filtered = filtered.filter(link =>\n        link.source.toLowerCase().includes(term) ||\n        link.url.toLowerCase().includes(term) ||\n        (link.pullQuote && link.pullQuote.toLowerCase().includes(term)) ||\n        (link.tags && link.tags.some(tag => tag.toLowerCase().includes(term)))\n      );\n    }\n\n    // Tag filter (uses deferred value)\n    if (deferredSelectedTags.length > 0) {\n      filtered = filtered.filter(link =>\n        link.tags && deferredSelectedTags.every(tag => link.tags.includes(tag))\n      );\n    }\n\n    // Sort\n    return [...filtered].sort((a, b) => {\n      if (a.isPinned !== b.isPinned) return b.isPinned ? 1 : -1;\n\n      switch (sortBy) {\n        case SORT_OPTIONS.DATE_ASC:\n          return new Date(a.timestamp || 0) - new Date(b.timestamp || 0);\n        case SORT_OPTIONS.TITLE:\n          return a.source.localeCompare(b.source);\n        case SORT_OPTIONS.DATE_DESC:\n        default:\n          return new Date(b.timestamp || 0) - new Date(a.timestamp || 0);\n      }\n    });\n  }, [links, deferredSearchTerm, deferredSelectedTags, sortBy]);\n\n  return (\n    <div className=\"min-h-screen bg-neutral-50\">\n      {/* Save Error Banner */}\n      {saveError && (\n        <div className=\"sticky top-0 z-50 bg-red-600 text-white px-4 py-3 shadow-lg\">\n          <div className=\"container-width flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <AlertTriangle className=\"w-5 h-5 flex-shrink-0\" />\n              <div>\n                <p className=\"font-medium\">{saveError.message}</p>\n                <p className=\"text-sm text-red-100\">{saveError.details}</p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <span className=\"text-xs text-red-200\">{saveError.timestamp}</span>\n              <button\n                onClick={() => setSaveError(null)}\n                className=\"p-1 hover:bg-red-700 rounded\"\n                title=\"Dismiss\"\n              >\n                <X className=\"w-4 h-4\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Data Warning Banner */}\n      {dataWarning && (\n        <div className=\"sticky top-0 z-50 bg-amber-500 text-amber-950 px-4 py-3 shadow-lg\">\n          <div className=\"container-width flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <AlertTriangle className=\"w-5 h-5 flex-shrink-0\" />\n              <p className=\"font-medium\">{dataWarning.message}</p>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <button\n                onClick={() => {\n                  saveToFile(links);\n                }}\n                className=\"px-3 py-1 bg-amber-700 text-white rounded text-sm font-medium hover:bg-amber-800\"\n              >\n                Sync Now\n              </button>\n              <button\n                onClick={() => setDataWarning(null)}\n                className=\"p-1 hover:bg-amber-600 rounded\"\n                title=\"Dismiss\"\n              >\n                <X className=\"w-4 h-4\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Header - Redesigned with max-height 120px */}\n      {(!isMinimalView || isAdmin) && (\n        <header className=\"sticky top-0 z-20 bg-white\" style={{ maxHeight: '120px' }}>\n          {/* Top Utility Bar */}\n          <div className=\"bg-neutral-100 border-b border-neutral-200\">\n            <div className=\"container-width flex justify-between items-center py-1\">\n              <span className=\"text-[11px] text-neutral-500 uppercase tracking-wide\">Est. 1994</span>\n              <time\n                className=\"text-[11px] text-neutral-500 uppercase tracking-wide\"\n                dateTime={new Date().toISOString()}\n              >\n                {new Date().toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}\n              </time>\n            </div>\n          </div>\n\n          {/* Main Branding Row */}\n          <div className=\"container-width py-2\">\n            <div className=\"flex flex-col items-center justify-center\">\n              {/* Title with inline logo */}\n              <h1 className=\"flex items-center gap-2\">\n                <a\n                  href=\"https://mediaeater.com\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"hover:opacity-80 transition-opacity\"\n                  title=\"mediaeater.com\"\n                >\n                  <img\n                    src=\"https://mediaeater.com/Images/mediaeater.png\"\n                    alt=\"mediaeater\"\n                    className=\"h-7 w-7 md:h-8 md:w-8 object-contain\"\n                  />\n                </a>\n                <a\n                  href=\"/\"\n                  className=\"text-xl md:text-2xl font-medium text-neutral-900 hover:text-neutral-600 transition-colors\"\n                  style={{ fontFamily: \"'JetBrains Mono', monospace\" }}\n                >\n                  newsfeeds.net\n                </a>\n              </h1>\n\n              {/* Tagline - always below title */}\n              <div\n                className=\"text-[10px] md:text-[11px] uppercase text-amber-700 mt-0.5\"\n                style={{ letterSpacing: '0.2em', fontFamily: \"'Inter', sans-serif\" }}\n              >\n                Human Edited & Curated\n              </div>\n            </div>\n          </div>\n\n          {/* Navigation Bar */}\n          <nav className=\"border-t border-neutral-200\">\n            <div className=\"container-width\">\n              {/* Desktop Navigation */}\n              <ul className=\"hidden md:flex items-center justify-center py-2 text-sm text-neutral-600\" style={{ fontFamily: \"'Inter', sans-serif\" }}>\n                <li>\n                  <button\n                    onClick={() => setIsMinimalView(!isMinimalView)}\n                    className=\"px-3 hover:text-neutral-900 hover:underline underline-offset-4 transition-colors\"\n                    title={isMinimalView ? \"Show full view\" : \"Show minimal view\"}\n                  >\n                    {filteredAndSortedLinks.length}:{links.length}\n                  </button>\n                </li>\n                <li>\n                  <button\n                    onClick={() => setIsLegendExpanded(!isLegendExpanded)}\n                    className=\"px-3 hover:text-neutral-900 hover:underline underline-offset-4 transition-colors\"\n                    title=\"Toggle legend\"\n                  >\n                    Legend\n                  </button>\n                </li>\n                <li>\n                  <a\n                    href=\"/feed.xml\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"px-3 hover:text-neutral-900 hover:underline underline-offset-4 transition-colors\"\n                  >\n                    RSS\n                  </a>\n                </li>\n                <li>\n                  <button\n                    onClick={() => {\n                      loadAllArchives();\n                      document.getElementById('archives-section')?.scrollIntoView({ behavior: 'smooth' });\n                    }}\n                    className=\"px-3 hover:text-neutral-900 hover:underline underline-offset-4 transition-colors\"\n                  >\n                    Archive\n                  </button>\n                </li>\n                <li>\n                  <button\n                    onClick={() => setShowTicker(prev => !prev)}\n                    className={`px-3 hover:text-neutral-900 hover:underline underline-offset-4 transition-colors ${showTicker ? 'text-neutral-900 font-medium' : ''}`}\n                  >\n                    {showTicker ? 'Ticker ●' : 'Ticker'}\n                  </button>\n                </li>\n                <li>\n                  <a\n                    href=\"https://ghuneim.com\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"px-3 hover:text-neutral-900 hover:underline underline-offset-4 transition-colors\"\n                  >\n                    mediaeater.inc\n                  </a>\n                </li>\n                <li>\n                  {searchExpanded ? (\n                    <input\n                      ref={searchRef}\n                      type=\"text\"\n                      value={searchTerm}\n                      onChange={(e) => setSearchTerm(e.target.value)}\n                      onBlur={() => {\n                        if (!searchTerm) {\n                          setTimeout(() => setSearchExpanded(false), 150);\n                        }\n                      }}\n                      placeholder=\"Search...\"\n                      className={`w-32 px-2 py-1 text-sm border border-neutral-300 rounded focus:outline-none focus:border-neutral-500 ${isSearchPending ? 'opacity-70' : ''}`}\n                      aria-label=\"Search links\"\n                      autoFocus\n                    />\n                  ) : (\n                    <button\n                      onClick={() => setSearchExpanded(true)}\n                      className=\"px-3 flex items-center gap-1.5 hover:text-neutral-900 hover:underline underline-offset-4 transition-colors\"\n                      aria-label=\"Open search\"\n                    >\n                      <Search className=\"w-3.5 h-3.5\" />\n                      <span>Search</span>\n                    </button>\n                  )}\n                </li>\n              </ul>\n\n              {/* Mobile Navigation - Horizontal scroll */}\n              <div className=\"md:hidden overflow-x-auto scrollbar-hide\">\n                <ul className=\"flex items-center py-2 text-sm text-neutral-600 whitespace-nowrap\" style={{ fontFamily: \"'Inter', sans-serif\" }}>\n                  <li>\n                    <button\n                      onClick={() => setIsMinimalView(!isMinimalView)}\n                      className=\"px-3 hover:text-neutral-900 transition-colors\"\n                    >\n                      {filteredAndSortedLinks.length}:{links.length}\n                    </button>\n                  </li>\n                  <li>\n                    <button\n                      onClick={() => setIsLegendExpanded(!isLegendExpanded)}\n                      className=\"px-3 hover:text-neutral-900 transition-colors\"\n                    >\n                      Legend\n                    </button>\n                  </li>\n                  <li>\n                    <a href=\"/feed.xml\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"px-3 hover:text-neutral-900 transition-colors\">\n                      RSS\n                    </a>\n                  </li>\n                  <li>\n                    <button\n                      onClick={() => {\n                        loadAllArchives();\n                        document.getElementById('archives-section')?.scrollIntoView({ behavior: 'smooth' });\n                      }}\n                      className=\"px-3 hover:text-neutral-900 transition-colors\"\n                    >\n                      Archive\n                    </button>\n                  </li>\n                  <li>\n                    <button\n                      onClick={() => setShowTicker(prev => !prev)}\n                      className={`px-3 hover:text-neutral-900 transition-colors ${showTicker ? 'font-medium' : ''}`}\n                    >\n                      Ticker\n                    </button>\n                  </li>\n                  <li>\n                    <a href=\"https://ghuneim.com\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"px-3 hover:text-neutral-900 transition-colors\">\n                      mediaeater.inc\n                    </a>\n                  </li>\n                  <li>\n                    <button\n                      onClick={() => setSearchExpanded(true)}\n                      className=\"px-3 flex items-center gap-1.5 hover:text-neutral-900 transition-colors\"\n                    >\n                      <Search className=\"w-3.5 h-3.5\" />\n                      <span>Search</span>\n                    </button>\n                  </li>\n                </ul>\n              </div>\n\n              {/* Mobile Search Expanded */}\n              {searchExpanded && (\n                <div className=\"md:hidden pb-2\">\n                  <div className=\"relative\">\n                    <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-400\" />\n                    <input\n                      ref={searchRef}\n                      type=\"text\"\n                      value={searchTerm}\n                      onChange={(e) => setSearchTerm(e.target.value)}\n                      onBlur={() => {\n                        if (!searchTerm) {\n                          setTimeout(() => setSearchExpanded(false), 150);\n                        }\n                      }}\n                      placeholder=\"Search links...\"\n                      className=\"w-full pl-10 pr-4 py-2 text-sm border border-neutral-300 rounded focus:outline-none focus:border-neutral-500\"\n                      aria-label=\"Search links\"\n                      autoFocus\n                    />\n                  </div>\n                </div>\n              )}\n            </div>\n          </nav>\n\n          {/* Single-pixel divider to content */}\n          <div className=\"border-b border-neutral-300\"></div>\n        </header>\n      )}\n\n      {/* Admin Panel - Always visible for admins */}\n      {isAdmin && (\n        <div className=\"bg-white border-b border-neutral-200\">\n          <div className=\"container-width py-6\">\n            {/* Tab buttons */}\n            <div className=\"flex flex-wrap gap-2 mb-4\">\n              <button\n                onClick={() => setShowQuickAdd(false)}\n                className={`btn btn-sm ${!showQuickAdd ? 'btn-primary' : 'btn-ghost'}`}\n              >\n                {editingLink ? <Edit2 className=\"w-4 h-4 mr-2\" /> : <Plus className=\"w-4 h-4 mr-2\" />}\n                {editingLink ? 'Edit Link' : 'Add Single Link'}\n              </button>\n              <button\n                onClick={() => {\n                  setShowQuickAdd(true);\n                  setEditingLink(null);\n                }}\n                className={`btn btn-sm ${showQuickAdd ? 'btn-primary' : 'btn-ghost'}`}\n              >\n                <Upload className=\"w-4 h-4 mr-2\" />\n                Bulk Add URLs\n              </button>\n\n              <button\n                onClick={exportLinks}\n                className=\"btn btn-sm btn-outline\"\n                title={`Export all ${links.length} links to JSON file`}\n              >\n                <Download className=\"w-4 h-4 mr-2\" />\n                Export ({links.length})\n              </button>\n\n              <label className=\"btn btn-sm btn-outline cursor-pointer\">\n                <Upload className=\"w-4 h-4 mr-2\" />\n                Import\n                <input\n                  type=\"file\"\n                  accept=\".json\"\n                  onChange={importLinks}\n                  className=\"hidden\"\n                  title=\"Import links from JSON file\"\n                />\n              </label>\n\n              <DigestPanel />\n            </div>\n\n            {/* Single Link Form */}\n            {!showQuickAdd && (\n              <div className=\"space-y-4\">\n                <div className=\"grid gap-4 md:grid-cols-2\">\n                  <div>\n                    <label className=\"block text-sm font-medium mb-1\">URL</label>\n                    <input\n                      type=\"url\"\n                      placeholder=\"https://example.com\"\n                      value={newLink.url}\n                      onChange={(e) => setNewLink({ ...newLink, url: e.target.value })}\n                      className=\"input w-full\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium mb-1\">\n                      Title ({newLink.source.length}/{MAX_TITLE_LENGTH})\n                    </label>\n                    <input\n                      type=\"text\"\n                      placeholder=\"Link title or description\"\n                      value={newLink.source}\n                      onChange={(e) => setNewLink({ ...newLink, source: e.target.value })}\n                      maxLength={MAX_TITLE_LENGTH}\n                      className=\"input w-full\"\n                    />\n                  </div>\n                </div>\n\n                {newLink.url && (!newLink.source || newLink.tags.length === 0) && (\n                  <button\n                    onClick={async () => {\n                      const metadata = await fetchUrlMetadata(newLink.url);\n                      const suggestedTags = suggestTagsFromUrl(newLink.url, metadata.title, metadata.description);\n                      setNewLink(prev => {\n                        const newTags = prev.tags.length === 0 ? suggestedTags.slice(0, 5) : prev.tags;\n                        return {\n                          ...prev,\n                          source: prev.source || (metadata.title || newLink.url).slice(0, MAX_TITLE_LENGTH),\n                          tags: newTags,\n                          tagInput: newTags.join(', ')\n                        };\n                      });\n                    }}\n                    className=\"btn btn-sm btn-secondary\"\n                  >\n                    <ExternalLink className=\"w-3 h-3 mr-1\" />\n                    Auto-fetch title & tags\n                  </button>\n                )}\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">\n                    Pull Quote (optional)\n                  </label>\n                  <textarea\n                    placeholder=\"Interesting quote or note about this link...\"\n                    value={newLink.pullQuote || ''}\n                    onChange={(e) => setNewLink({ ...newLink, pullQuote: e.target.value })}\n                    className=\"input w-full h-20\"\n                  />\n                </div>\n\n                <div className=\"relative\">\n                  <label className=\"block text-sm font-medium mb-1\">\n                    Tags <span className=\"text-neutral-400 font-normal\">(Tab to add suggestion)</span>\n                  </label>\n\n                  {/* Tag chips display */}\n                  <div className=\"flex flex-wrap gap-1.5 mb-2\">\n                    {(newLink.tags || []).map((tag, index) => (\n                      <span\n                        key={`${tag}-${index}`}\n                        className=\"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded-md\"\n                      >\n                        {tag}\n                        <button\n                          type=\"button\"\n                          onClick={() => {\n                            const updatedTags = newLink.tags.filter((_, i) => i !== index);\n                            setNewLink({\n                              ...newLink,\n                              tags: updatedTags,\n                              tagInput: ''\n                            });\n                          }}\n                          className=\"text-blue-600 hover:text-blue-900 ml-0.5\"\n                          aria-label={`Remove ${tag}`}\n                        >\n                          <X className=\"w-3 h-3\" />\n                        </button>\n                      </span>\n                    ))}\n                  </div>\n\n                  {/* Tag input */}\n                  <input\n                    ref={tagInputRef}\n                    type=\"text\"\n                    placeholder={newLink.tags?.length ? \"Add another tag...\" : \"Type to add tags...\"}\n                    value={currentTagInput}\n                    onChange={(e) => {\n                      const value = e.target.value;\n\n                      // Check if user typed a comma - add current tag\n                      if (value.endsWith(',')) {\n                        const tagToAdd = value.slice(0, -1).trim().toLowerCase();\n                        if (tagToAdd && !newLink.tags?.includes(tagToAdd)) {\n                          setNewLink({\n                            ...newLink,\n                            tags: [...(newLink.tags || []), tagToAdd],\n                            tagInput: ''\n                          });\n                        }\n                        setCurrentTagInput('');\n                        setShowAutocomplete(false);\n                        setAutocompleteIndex(0);\n                        return;\n                      }\n\n                      setCurrentTagInput(value);\n                      setShowAutocomplete(value.trim().length > 0);\n                      setAutocompleteIndex(0);\n                    }}\n                    onFocus={() => {\n                      if (currentTagInput.trim().length > 0) {\n                        setShowAutocomplete(true);\n                      }\n                    }}\n                    onBlur={() => {\n                      setTimeout(() => {\n                        // Add current input as tag if not empty\n                        const tagToAdd = currentTagInput.trim().toLowerCase();\n                        if (tagToAdd && !newLink.tags?.includes(tagToAdd)) {\n                          setNewLink({\n                            ...newLink,\n                            tags: [...(newLink.tags || []), tagToAdd],\n                            tagInput: ''\n                          });\n                        }\n                        setCurrentTagInput('');\n                        setShowAutocomplete(false);\n                      }, 200);\n                    }}\n                    onKeyDown={(e) => {\n                      // Escape - close dropdown\n                      if (e.key === 'Escape') {\n                        setShowAutocomplete(false);\n                        return;\n                      }\n\n                      // Tab - add first/selected suggestion or current input\n                      if (e.key === 'Tab' && currentTagInput.trim()) {\n                        e.preventDefault();\n                        let tagToAdd;\n\n                        if (showAutocomplete && filteredAutocompleteTags.length > 0) {\n                          tagToAdd = filteredAutocompleteTags[autocompleteIndex]?.tag;\n                        } else {\n                          tagToAdd = currentTagInput.trim().toLowerCase();\n                        }\n\n                        if (tagToAdd && !newLink.tags?.includes(tagToAdd)) {\n                          setNewLink({\n                            ...newLink,\n                            tags: [...(newLink.tags || []), tagToAdd],\n                            tagInput: ''\n                          });\n                        }\n                        setCurrentTagInput('');\n                        setShowAutocomplete(false);\n                        setAutocompleteIndex(0);\n                        return;\n                      }\n\n                      // Enter - add current input or selected suggestion\n                      if (e.key === 'Enter') {\n                        e.preventDefault();\n                        let tagToAdd;\n\n                        if (showAutocomplete && filteredAutocompleteTags.length > 0) {\n                          tagToAdd = filteredAutocompleteTags[autocompleteIndex]?.tag;\n                        } else {\n                          tagToAdd = currentTagInput.trim().toLowerCase();\n                        }\n\n                        if (tagToAdd && !newLink.tags?.includes(tagToAdd)) {\n                          setNewLink({\n                            ...newLink,\n                            tags: [...(newLink.tags || []), tagToAdd],\n                            tagInput: ''\n                          });\n                        }\n                        setCurrentTagInput('');\n                        setShowAutocomplete(false);\n                        setAutocompleteIndex(0);\n                        return;\n                      }\n\n                      // Arrow down - navigate suggestions\n                      if (e.key === 'ArrowDown' && showAutocomplete) {\n                        e.preventDefault();\n                        setAutocompleteIndex(prev =>\n                          Math.min(prev + 1, filteredAutocompleteTags.length - 1)\n                        );\n                        return;\n                      }\n\n                      // Arrow up - navigate suggestions\n                      if (e.key === 'ArrowUp' && showAutocomplete) {\n                        e.preventDefault();\n                        setAutocompleteIndex(prev => Math.max(prev - 1, 0));\n                        return;\n                      }\n\n                      // Backspace - remove last tag if input is empty\n                      if (e.key === 'Backspace' && !currentTagInput && newLink.tags?.length > 0) {\n                        const updatedTags = newLink.tags.slice(0, -1);\n                        setNewLink({\n                          ...newLink,\n                          tags: updatedTags,\n                          tagInput: ''\n                        });\n                      }\n                    }}\n                    className=\"input w-full\"\n                  />\n\n                  {/* Autocomplete dropdown */}\n                  {showAutocomplete && filteredAutocompleteTags.length > 0 && (\n                    <div className=\"absolute z-50 w-full mt-1 bg-white border-2 border-blue-500 rounded-md shadow-lg max-h-48 overflow-y-auto\">\n                      {filteredAutocompleteTags.map(({ tag, count }, index) => (\n                        <button\n                          key={tag}\n                          type=\"button\"\n                          onMouseDown={(e) => {\n                            e.preventDefault();\n                            if (!newLink.tags?.includes(tag)) {\n                              setNewLink({\n                                ...newLink,\n                                tags: [...(newLink.tags || []), tag],\n                                tagInput: ''\n                              });\n                            }\n                            setCurrentTagInput('');\n                            setShowAutocomplete(false);\n                            setAutocompleteIndex(0);\n                            tagInputRef.current?.focus();\n                          }}\n                          className={`w-full text-left px-3 py-2 text-sm transition-colors flex items-center justify-between border-b border-gray-100 last:border-b-0 ${\n                            index === autocompleteIndex\n                              ? 'bg-blue-100 text-blue-900'\n                              : 'hover:bg-blue-50'\n                          }`}\n                        >\n                          <span className=\"font-medium\">{tag}</span>\n                          <span className=\"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full\">\n                            {count}\n                          </span>\n                        </button>\n                      ))}\n                    </div>\n                  )}\n\n                  {/* Popular tags */}\n                  {allTags.length > 0 && (\n                    <div className=\"mt-2 flex flex-wrap gap-1 items-center\">\n                      <span className=\"text-xs text-neutral-500\">Popular:</span>\n                      {allTags.slice(0, 10).map(({ tag }) => (\n                        <button\n                          key={tag}\n                          type=\"button\"\n                          onClick={() => {\n                            if (!newLink.tags?.includes(tag)) {\n                              setNewLink({\n                                ...newLink,\n                                tags: [...(newLink.tags || []), tag],\n                                tagInput: ''\n                              });\n                            }\n                          }}\n                          disabled={newLink.tags?.includes(tag)}\n                          className={`tag text-xs ${newLink.tags?.includes(tag) ? 'opacity-40 cursor-not-allowed' : ''}`}\n                        >\n                          {tag}\n                        </button>\n                      ))}\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"flex items-center gap-4\">\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\n                    <input\n                      type=\"checkbox\"\n                      checked={newLink.isPinned || false}\n                      onChange={(e) => setNewLink({ ...newLink, isPinned: e.target.checked })}\n                      className=\"rounded border-neutral-300\"\n                    />\n                    <span className=\"text-sm\">Pin to top</span>\n                  </label>\n\n                  <div className=\"flex gap-2 ml-auto\">\n                    {editingLink && (\n                      <button\n                        onClick={() => {\n                          setEditingLink(null);\n                          setNewLink({ url: '', source: '', pullQuote: '', tags: [], tagInput: '', isPinned: false });\n                        }}\n                        className=\"btn btn-secondary\"\n                      >\n                        Cancel\n                      </button>\n                    )}\n                    <button\n                      onClick={editingLink ? updateLink : addLink}\n                      disabled={!newLink.url || !newLink.source}\n                      className=\"btn btn-primary\"\n                    >\n                      {editingLink ? 'Update Link' : 'Add Link'}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Bulk Add Form */}\n            {showQuickAdd && (\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Add Multiple URLs (one per line)\n                  </label>\n                  <textarea\n                    ref={quickPasteRef}\n                    value={quickAddUrls}\n                    onChange={(e) => setQuickAddUrls(e.target.value)}\n                    placeholder=\"Paste URLs here...\"\n                    className=\"input w-full h-32 font-mono text-sm\"\n                  />\n                </div>\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={addQuickLinks}\n                    disabled={!quickAddUrls.trim() || isLoading}\n                    className=\"btn btn-primary\"\n                  >\n                    {isLoading ? 'Processing...' : 'Add All Links'}\n                  </button>\n                  <button\n                    onClick={() => {\n                      setShowQuickAdd(false);\n                      setQuickAddUrls('');\n                    }}\n                    className=\"btn btn-secondary\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Main Content */}\n      <main className=\"container-width section-y\">\n        <div className=\"space-y-3\">\n          {/* Legend Content (expandable) */}\n          {!isMinimalView && isLegendExpanded && (\n            <div className=\"legend-box mb-6\">\n              <div className=\"grid grid-cols-2 gap-x-4 gap-y-1.5\">\n                <div className=\"legend-item\">\n                  <span className=\"font-medium text-neutral-700\">Title:</span> Source/article name\n                </div>\n                <div className=\"legend-item\">\n                  <span className=\"font-medium text-neutral-700\">URL:</span> Domain shown below title\n                </div>\n                <div className=\"legend-item\">\n                  <span className=\"font-medium text-neutral-700\">Quote:</span> Pull quote or excerpt\n                </div>\n                <div className=\"legend-item\">\n                  <span className=\"font-medium text-neutral-700\">Tags:</span> Click to filter or bookmark a topic\n                </div>\n                <div className=\"legend-item\">\n                  <span className=\"font-medium text-neutral-700\">Date:</span> When link was added\n                </div>\n              </div>\n            </div>\n          )}\n\n\n          {/* Links List */}\n          {filteredAndSortedLinks.length === 0 ? (\n            <div className=\"text-center py-16\">\n              <p className=\"text-neutral-500\">No links found</p>\n            </div>\n          ) : (\n            filteredAndSortedLinks.map((link, index) => {\n              const linkYear = new Date(link.timestamp).getFullYear();\n              const prevLink = filteredAndSortedLinks[index - 1];\n              const prevYear = prevLink ? new Date(prevLink.timestamp).getFullYear() : null;\n              const showYearHeader = prevYear !== null && linkYear !== prevYear;\n\n              return (\n                <Fragment key={link.id}>\n                  {showYearHeader && (\n                    <div id=\"archives-section\" className=\"py-4 mt-6 mb-2 border-t-2 border-neutral-300\">\n                      <h2 className=\"text-xl font-bold text-neutral-700\">{linkYear}</h2>\n                    </div>\n                  )}\n                  <article\n                    ref={(el) => linkRefs.current[index] = el}\n                    className={`link-card group ${focusedLinkIndex === index ? 'ring-2 ring-primary-500 ring-offset-2' : ''}`}\n                  >\n                    <div className=\"flex gap-4\">\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-start gap-2\">\n                          {link.isPinned && (\n                            <Pin className=\"w-4 h-4 text-neutral-400 mt-1 flex-shrink-0\" />\n                          )}\n                          <div className=\"flex-1 min-w-0\">\n                            <h3 className=\"font-medium text-neutral-900 truncate\">\n                              <a\n                                href={link.url}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                                className=\"hover:text-primary-600 transition-colors\"\n                                onClick={() => {\n                                  if (isAdmin) {\n                                    const updatedLinks = links.map(l =>\n                                      l.id === link.id ? { ...l, visits: (l.visits || 0) + 1 } : l\n                                    );\n                                    setLinks(updatedLinks);\n                                    saveToFile(updatedLinks);\n                                  }\n                                }}\n                              >\n                                {link.source}\n                              </a>\n                            </h3>\n                            <p className=\"text-sm text-neutral-500 truncate\">\n                              {(() => {\n                                try {\n                                  return new URL(link.url).hostname.replace('www.', '');\n                                } catch {\n                                  return link.url;\n                                }\n                              })()}\n                            </p>\n                          </div>\n                        </div>\n                        {link.pullQuote && (\n                          <div className=\"mt-2 text-sm text-neutral-600 italic space-y-2\">\n                            {link.pullQuote.split('\\n\\n').map((paragraph, i) => (\n                              <p key={i}>\n                                {paragraph.split('\\n').map((line, j, arr) => (\n                                  <span key={j}>\n                                    {line}\n                                    {j < arr.length - 1 && <br />}\n                                  </span>\n                                ))}\n                              </p>\n                            ))}\n                          </div>\n                        )}\n                        {link.tags && link.tags.length > 0 && (\n                          <div className=\"mt-3 flex flex-wrap gap-1\">\n                            {link.tags.map((tag) => (\n                              <button\n                                key={tag}\n                                onClick={() => {\n                                  if (selectedTags.includes(tag)) {\n                                    setSelectedTags(selectedTags.filter(t => t !== tag));\n                                  } else {\n                                    setSelectedTags([...selectedTags, tag]);\n                                  }\n                                }}\n                                className=\"tag\"\n                              >\n                                {tag}\n                              </button>\n                            ))}\n                          </div>\n                        )}\n                        <div className=\"mt-3 flex items-center gap-4 text-xs text-neutral-400\">\n                          <span>\n                            {new Date(link.timestamp).toLocaleDateString()}\n                            {link.visits > 0 && ` [${link.visits}]`}\n                          </span>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n                        <button onClick={() => copyLink(link)} className=\"btn-ghost p-2\" title=\"Copy link\">\n                          {copiedLinkId === link.id ? (\n                            <Check className=\"w-4 h-4 text-success\" />\n                          ) : (\n                            <Copy className=\"w-4 h-4\" />\n                          )}\n                        </button>\n                        {isAdmin && (\n                          <>\n                            <button onClick={() => editLink(link)} className=\"btn-ghost p-2\" title=\"Edit link\">\n                              <Edit2 className=\"w-4 h-4\" />\n                            </button>\n                            <button onClick={() => togglePin(link.id)} className=\"btn-ghost p-2\" title=\"Pin link\">\n                              <Pin className={`w-4 h-4 ${link.isPinned ? 'fill-current' : ''}`} />\n                            </button>\n                            <button onClick={() => deleteLink(link.id)} className=\"btn-ghost p-2 text-error\" title=\"Delete link\">\n                              <Trash2 className=\"w-4 h-4\" />\n                            </button>\n                          </>\n                        )}\n                      </div>\n                    </div>\n                  </article>\n                </Fragment>\n              );\n            })\n          )}\n        </div>\n      </main>\n\n      {/* Times Square-style news ticker - landscape mobile or manual toggle */}\n      <NewsTicker links={filteredAndSortedLinks} forceShow={showTicker} onClose={() => setShowTicker(false)} />\n    </div>\n  );\n}","import { Component } from 'react';\n\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false, error: null, errorInfo: null };\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    console.error('Error caught by boundary:', error);\n    console.error('Error info:', errorInfo);\n    this.setState({\n      error,\n      errorInfo\n    });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div style={{ padding: '20px', fontFamily: 'monospace' }}>\n          <h2 style={{ color: 'red' }}>Something went wrong!</h2>\n          <details style={{ whiteSpace: 'pre-wrap' }}>\n            <summary>Click to see error details</summary>\n            <p style={{ color: 'red' }}>{this.state.error && this.state.error.toString()}</p>\n            <pre>{this.state.errorInfo && this.state.errorInfo.componentStack}</pre>\n          </details>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;","import LinkBlogClean from './components/LinkBlogClean'\nimport ErrorBoundary from './components/ErrorBoundary'\n\nfunction App() {\n  return (\n    <ErrorBoundary>\n      <LinkBlogClean />\n    </ErrorBoundary>\n  )\n}\n\nexport default App","import { StrictMode } from 'react'\nimport { createRoot } from 'react-dom/client'\nimport './index.css'\nimport App from './App.jsx'\n\ncreateRoot(document.getElementById('root')).render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n)\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","defaultAttributes","toKebabCase","string","createLucideIcon","iconName","iconNode","Component","forwardRef","color","size","strokeWidth","absoluteStrokeWidth","children","rest","ref","createElement","tag","attrs","createLucideIcon$1","AlertTriangle","Check","Copy","Download","ExternalLink","Pause","Pen","Pin","Play","Plus","Search","SkipForward","Trash2","Upload","X","DOMAIN_TAG_MAP","KEYWORD_TAG_MAP","suggestTagsFromUrl","url","title","description","suggestions","urlObj","domain","path","content","keyword","error","loadArchiveMetadata","knownYears","archives","year","response","data","_a","loadArchiveYear","NewsTicker","links","forceShow","onClose","isPaused","setIsPaused","useState","setIsLandscapeMobile","currentIndex","setCurrentIndex","prefersReducedMotion","setPrefersReducedMotion","needsScroll","setNeedsScroll","isTransitioning","setIsTransitioning","showControls","setShowControls","scrollDuration","setScrollDuration","quoteRef","useRef","trackRef","hideControlsTimer","nextLinkRef","isVisible","linksWithQuotes","useMemo","link","currentLink","formatDate","timestamp","getDomain","nextLink","useCallback","list","prev","useEffect","timer","checkOrientation","landscape","mobile","landscapeQuery","mobileQuery","motionQuery","handleMotionChange","quoteHeight","trackHeight","overflow","calculatedDuration","handleScreenTap","handleKeyPress","handleTogglePause","handleItemClick","jsxs","jsx","Fragment","API_BASE","DigestPanel","status","setStatus","loading","setLoading","generating","setGenerating","showModal","setShowModal","generatedHtml","setGeneratedHtml","copied","setCopied","setError","fetchStatus","handleGenerate","markAsDigested","handleCopy","textarea","handleMarkAsDigested","ADMIN_USER","STORAGE_KEY","MAX_TITLE_LENGTH","SORT_OPTIONS","LinkBlogClean","setLinks","newLink","setNewLink","isAdmin","setIsAdmin","searchTerm","setSearchTerm","selectedTags","setSelectedTags","sortBy","editingLink","setEditingLink","showQuickAdd","setShowQuickAdd","quickAddUrls","setQuickAddUrls","isLoading","setIsLoading","copiedLinkId","setCopiedLinkId","focusedLinkIndex","showAutocomplete","setShowAutocomplete","currentTagInput","setCurrentTagInput","autocompleteIndex","setAutocompleteIndex","isLegendExpanded","setIsLegendExpanded","isMinimalView","setIsMinimalView","setArchives","loadedArchives","setLoadedArchives","searchExpanded","setSearchExpanded","saveError","setSaveError","dataWarning","setDataWarning","showTicker","setShowTicker","searchRef","autoBackupRef","quickPasteRef","linkRefs","tagInputRef","deferredSearchTerm","useDeferredValue","deferredSelectedTags","isSearchPending","loadLinks","safeLocalStorage","key","value","jsonData","stored","localData","jsonTime","localTime","localCount","jsonCount","_b","saveToFile","updatedLinks","isProduction","loadArchivesList","metadata","loadArchive","archiveLinks","currentLinks","loadAllArchives","archive","performAutoBackup","backupData","initialBackup","urlParams","adminParam","cleanAdmin","tagParam","newParams","newUrl","fetchUrlMetadata","urlError","addLink","pendingTag","finalTags","updateLink","updatedLinkData","editLink","deleteLink","id","togglePin","exportLinks","dateStr","timeStr","dataStr","dataBlob","importLinks","event","file","reader","importedData","existingUrls","validNewLinks","duplicates","message","mergedLinks","successMsg","processUrlsFromPaste","urls","urlList","processed","suggestedTags","addQuickLinks","copyLink","allTags","tagCounts","count","filteredAutocompleteTags","existingTags","t","filteredAndSortedLinks","filtered","term","Edit2","newTags","index","updatedTags","_","i","tagToAdd","_c","_d","_e","linkYear","prevLink","prevYear","showYearHeader","el","paragraph","line","j","arr","ErrorBoundary","props","errorInfo","App","createRoot","StrictMode"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]}